import{r as c,o as I,c as U,a,w as l,F as H,b,d as w,e as _,f as V,g as A,h as q,i as P,t as ne,D as X,A as W,p as ae,j as ie,k as ge,l as fe,n as oe,m as _e,q as ve,s as ye,u as he}from"./vendor.e8f4fe8d.js";const Me=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}};Me();var x=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r};const be={name:"Tianditu"};function Ie(e,t,r,o,n,i){const s=c("vc-imagery-provider-tianditu"),d=c("vc-layer-imagery");return I(),U(H,null,[a(d,{"sort-order":20},{default:l(()=>[a(s,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(d,{"sort-order":10},{default:l(()=>[a(s,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(d,{ref:"layerText"},{default:l(()=>[a(s,{"map-style":"cia_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1},512)],64)}var we=x(be,[["render",Ie]]);const Ce={name:"DtCzml",setup(){const e=b(!0),t=b(null);return{czml:[{id:"document",name:"CZML Geometries: Polyline",version:"1.0"},{id:"redLine",name:"Red line clamped to terain",polyline:{positions:{cartographicDegrees:[-75,35,0,-125,35,0]},material:{solidColor:{color:{rgba:[255,0,0,255]}}},width:5,clampToGround:!0}},{id:"blueLine",name:"Glowing blue line on the surface",polyline:{positions:{cartographicDegrees:[-75,37,0,-125,37,0]},material:{polylineGlow:{color:{rgba:[0,0,255,255]},glowPower:.2}},width:10}},{id:"orangeLine",name:"Orange line with black outline at height and following the surface",polyline:{positions:{cartographicDegrees:[-75,39,25e4,-125,39,25e4]},material:{polylineOutline:{color:{rgba:[255,165,0,255]},outlineColor:{rgba:[0,0,0,255]},outlineWidth:2}},width:5}},{id:"purpleLine",name:"Purple arrow at height",polyline:{positions:{cartographicDegrees:[-75,43,5e5,-125,43,5e5]},material:{polylineArrow:{color:{rgba:[148,0,211,255]}}},followSurface:!1,width:10}},{id:"dashedLine",name:"Blue dashed line",polyline:{positions:{cartographicDegrees:[-75,45,5e5,-125,45,5e5]},material:{polylineDash:{color:{rgba:[0,255,255,255]}}},width:4}}],show:e,onClicked:i=>{console.log(i)},onDatasourceReady:({Cesium:i,viewer:s,cesiumObject:d})=>{},datasourceRef:t}}};function Te(e,t,r,o,n,i){const s=c("vc-datasource-czml");return I(),w(s,{ref:"datasourceRef",czml:"../../SampleData/czml/simple.czml",onReady:o.onDatasourceReady,show:o.show,onClick:o.onClicked},null,8,["onReady","show","onClick"])}var De=x(Ce,[["render",Te]]),xe=`
            // \u53EF\u4EE5\u4FEE\u6539\u7684\u53C2\u6570
            // \u6CE8\u610Fshader\u4E2D\u5199\u6D6E\u70B9\u6570\u662F\uFF0C\u4E00\u5B9A\u8981\u5E26\u5C0F\u6570\u70B9\uFF0C\u5426\u5219\u4F1A\u62A5\u9519\uFF0C\u6BD4\u59820\u9700\u8981\u5199\u62100.0\uFF0C1\u8981\u5199\u62101.0
            float _baseHeight = 0.0; // \u7269\u4F53\u7684\u57FA\u7840\u9AD8\u5EA6\uFF0C\u9700\u8981\u4FEE\u6539\u6210\u4E00\u4E2A\u5408\u9002\u7684\u5EFA\u7B51\u57FA\u7840\u9AD8\u5EA6
            float _heightRange = 60.0; // \u9AD8\u4EAE\u7684\u8303\u56F4(_baseHeight ~ _baseHeight + _heightRange) \u9ED8\u8BA4\u662F 0-60\u7C73
            float _glowRange = 300.0; // \u5149\u73AF\u7684\u79FB\u52A8\u8303\u56F4(\u9AD8\u5EA6)

            // \u5EFA\u7B51\u57FA\u7840\u8272
            float vtxf_height = v_elevationPos.z - _baseHeight;
            float vtxf_a11 = fract(czm_frameNumber / 120.0) * 3.14159265 * 2.0;
            float vtxf_a12 = vtxf_height / _heightRange + sin(vtxf_a11) * 0.1;
            gl_FragColor *= vec4(vtxf_a12, vtxf_a12, vtxf_a12, 1.0);

            // \u52A8\u6001\u5149\u73AF
            float vtxf_a13 = fract(czm_frameNumber / 360.0);
            float vtxf_h = clamp(vtxf_height / _glowRange, 0.0, 1.0);
            vtxf_a13 = abs(vtxf_a13 - 0.5) * 2.0;
            float vtxf_diff = step(0.005, abs(vtxf_h - vtxf_a13));
            gl_FragColor.rgb += gl_FragColor.rgb * (1.0 - vtxf_diff);
            `;function re(e){e.weather.atmosphere.enabled=!1;const t=e.postProcess.bloom;t.enabled=!0,t.glowOnly=!1,t.contrast=119,t.brightness=-.4,t.delta=.9,t.sigma=3.78,t.stepSize=5,t.isSelected=!1,e.sceneTree.root={children:[{czmObject:{xbsjType:"Imagery",xbsjGuid:"0a74da9f-bff6-4eab-af64-d8cf95978145",name:"\u8C37\u6B4C\u5F71\u50CF",brightness:.2,rectangle:null,xbsjImageryProvider:{XbsjImageryProvider:{url:"//server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",maximumLevel:14}}}},{ref:"tileset",czmObject:{xbsjType:"Tileset",xbsjGuid:"094b1984-4aae-4ac3-bb35-86d84e6a8204",name:"\u767D\u6A21\u6D4B\u8BD52",url:"https://lab.earthsdk.com/model/702aa950d03c11e99f7ddd77cbe22fea/tileset.json",xbsjStyle:`var style = {
    color: "vec4(0, 0.5, 1.0,1)"
}`,xbsjClippingPlanes:{},xbsjCustomShader:{fsBody:xe}}},{ref:"scaneline",czmObject:{xbsjType:"Scanline",xbsjGuid:"c827bdc1-c14b-4452-81de-7b2ce427b786",name:"\u626B\u63CF\u7EBF",position:[2.1201528021066163,.5451706303633767,0],show:!0,radius:1e3,timeDuration:"3",currentTime:0,color:[.5,.8,1,1]}}]};var r=e.sceneTree.$refs.tileset.czmObject,o=e.sceneTree.$refs.scaneline.czmObject;window.tileset=r,window.scaneline=o,o.playing=!0;var n=je(e),i=Ne(e),s=Se(e),d=Ee(e),m=Le(e),f=ke(e);[[[2.1202907282192385,.5450835546419367,1.5],[.5,.8,1,2],[50,50,1]],[[2.120125294340532,.5453135338319917,1.5],[1,1,0,2],[60,60,1.2]],[[2.120593634919066,.545503909863893,1.5],[.4,.9,1,2],[40,40,.8]],[[2.120633904525988,.5448141367213986,1.5],[.3,1,1,2],[50,50,1.5]],[[2.1208228652896737,.545141073908163,1.5],[1,1,0,2],[50,50,1]],[[2.120461948038486,.5451830324218808,1.5],[.5,.8,1,2],[50,50,1]],[[2.1204975918398317,.5452978537884561,1.5],[.5,.8,1,2],[50,50,1]],[[2.1207024221200843,.5453525660588958,1.5],[.5,.8,1,2],[50,50,1]],[[2.1207404597752664,.5451854942212021,1.5],[.5,.8,1,2],[50,50,1]]].forEach(([u,g,y])=>{Ae(e,u,g,y)}),Oe(e),ze(e),Re(e),window.c=n,window.b=i,window.cl=s,window.cl2=d,window.gc=m,window.t=f,window.l=Pe(e),e.camera.flyAround([2.1206125026580582,.545178729438238,15],3e3,[0,-Math.PI/5,0],0,3.14/50)}function je(e){const o={evalString:`
                Cesium.Resource.createIfNeeded('./images/ht/circular_03.png').fetchImage().then(function(image) {
                    console.log('image loaded!');
                    p.canvasWidth = 512;
                    p.canvasHeight = 512;

                    p.drawCanvas(ctx => {
                        ctx.clearRect(0, 0, 512, 512);

                        ctx.beginPath();
                        ctx.strokeStyle = "rgb(128, 128, 128)";
                        // ctx.setLineDash([8, 8]);
                        ctx.lineWidth = 1;
                        ctx.arc(256, 256, 250, 0, Math.PI*2, true);
                        ctx.stroke();

                        ctx.drawImage(image, 0, 0);
                    });

                    p.color = [0.5, 0.8, 1, 2];
                });
            `,preUpdateEvalString:`
                if (typeof p.xxxAngle === 'undefined') p.xxxAngle = 360.0;
                p.xxxAngle -= 1.0;
                if (p.xxxAngle < 0) {
                    p.xxxAngle = 360.0;
                }
                p.rotation[0] = p.xxxAngle / 180.0 * Math.PI;
            `,position:[2.1206125026580582,.545178729438238,14.721614698023599],scale:[500,500,1],positions:[-1,-1,0,1,-1,0,1,1,0,-1,1,0],sts:[0,0,1,0,1,1,0,1],indices:[0,1,2,0,2,3],renderState:XE.Obj.CustomPrimitive.getRenderState(!0,!0),color:[.5,.8,1,2],canvasWidth:512,canvasHeight:512};var n=new XE.Obj.CustomPrimitive(e);return n.xbsjFromJSON(o),n}function Ne(e){const r={evalString:`
                Cesium.Resource.createIfNeeded('./images/city/billboard.png').fetchImage().then(function(image) {
                    console.log('image loaded!');
                    p.drawCanvas(ctx => {
                        ctx.clearRect(0, 0, 512, 256);
                        ctx.drawImage(image, 0, 0);
                    });
                });
            `,position:[2.1206401172802556,.5451803047331054,302.99853825804723],scale:[1,100,50],positions:[0,-1,0,0,1,0,0,1,2,0,-1,2],sts:[0,0,1,0,1,1,0,1],indices:[0,1,2,0,2,3],renderState:XE.Obj.CustomPrimitive.getRenderState(!0,!1),color:[.5,.8,1,2],canvasWidth:512,canvasHeight:256};var o=new XE.Obj.CustomPrimitive(e);return o.xbsjFromJSON(r),o}function ke(e){const r={preUpdateEvalString:`
                if (typeof p.dAngle === 'undefined') p.dAngle = 0.0;
                p.dAngle += 10.0;
                if (p.dAngle > 360.0) {
                    p.dAngle = 0.0;
                }
                p.rotation[0] = p.dAngle / 180.0 * Math.PI;

                if (typeof p.dt === 'undefined') p.dt = 0.0;
                p.dt += 0.01;
                if (p.dt > 1.0) p.dt = 0.0;
                p.position[2] = 400 + 10 * Math.sin(p.dt*Math.PI*2.0);
            `,position:[2.120597930315031,.5451624300822016,400],scale:[15,15,15],positions:[1,0,1.5,0,1,1.5,-1,0,1.5,0,-1,1.5,0,0,0],indices:[0,1,1,2,2,3,3,0,0,4,1,4,2,4,3,4],renderState:XE.Obj.CustomPrimitive.getRenderState(!0,!0)},o=Object.assign({},r,{indices:[0,1,4,1,2,4,2,3,4,3,0,4],color:[.5,.8,1,.5]}),n=Object.assign({},r,{indices:[0,1,1,2,2,3,3,0,0,4,1,4,2,4,3,4],primitiveType:Cesium.PrimitiveType.LINES,color:[1,1,0,5]});var i=new XE.Obj.CustomPrimitive(e);i.xbsjFromJSON(o);var s=new XE.Obj.CustomPrimitive(e);return s.xbsjFromJSON(n),i}function Ae(e,t,r=[.5,.8,1,2],o=[50,50,1]){{const i={evalString:`
                    p.canvasWidth = 512;
                    p.canvasHeight = 512;
                    p.drawCanvas(ctx => {
                        var gradient = ctx.createRadialGradient(256, 256, 0, 256, 256, 256);
                        gradient.addColorStop(0.1, "rgba(255, 255, 255, 1.0)");
                        gradient.addColorStop(0.2, "rgba(255, 255, 255, 0.0)");
                        gradient.addColorStop(0.3, "rgba(255, 255, 255, 0.9)");
                        gradient.addColorStop(0.5, "rgba(255, 255, 255, 0.0)");
                        gradient.addColorStop(0.9, "rgba(255, 255, 255, 0.2)");
                        gradient.addColorStop(1.0, "rgba(255, 255, 255, 1.0)");

                        ctx.clearRect(0, 0, 512, 512);
                        ctx.beginPath();
                        ctx.arc(256, 256, 256, 0, Math.PI * 2, true);
                        // ctx.fillStyle = "rgb(0, 155, 255)";
                        ctx.fillStyle = gradient;
                        ctx.fill();
                        ctx.restore();
                    });
                `,position:[...t],scale:[...o],positions:[...XE.Obj.CustomPrimitive.Geometry.unitSquare.positions],sts:[...XE.Obj.CustomPrimitive.Geometry.unitSquare.sts],indices:[...XE.Obj.CustomPrimitive.Geometry.unitSquare.indices],renderState:XE.Obj.CustomPrimitive.getRenderState(!0,!0),color:[...r],canvasWidth:512,canvasHeight:512};new XE.Obj.CustomPrimitive(e).xbsjFromJSON(i)}{const s={evalString:`
                    p.canvasWidth = 512;
                    p.canvasHeight = 512;
                    p.drawCanvas(ctx => {
                        ctx.clearRect(0, 0, 512, 512);

                        ctx.strokeStyle = "rgb(255, 255, 255)";
                        ctx.setLineDash([80, 80]);
                        ctx.lineWidth = 30;
                        ctx.arc(256, 256, 241, 0, Math.PI * 2, true);
                        ctx.stroke();
                    });
                `,preUpdateEvalString:`
                    if (typeof p.dAngle === 'undefined') p.dAngle = 0.0;
                    if (typeof p.dt === 'undefined') p.dt = 0.01;

                    p.dAngle += 10.0;
                    if (p.dAngle > 360.0) {
                        p.dAngle = 0.0;
                    }
                    p.rotation[0] = p.dAngle / 180.0 * Math.PI;

                    p.dt += 0.02;
                    if (p.dt > 1.0) p.dt = 0.01;

                    p.scale[0] = 50 * p.dt;
                    p.scale[1] = 50 * p.dt;
                `,position:[...t],scale:[50,50,1],positions:[...XE.Obj.CustomPrimitive.Geometry.unitSquare.positions],sts:[...XE.Obj.CustomPrimitive.Geometry.unitSquare.sts],indices:[...XE.Obj.CustomPrimitive.Geometry.unitSquare.indices],renderState:XE.Obj.CustomPrimitive.getRenderState(!0,!0),color:[...r],canvasWidth:512,canvasHeight:512};new XE.Obj.CustomPrimitive(e).xbsjFromJSON(s)}{const n=`
                varying vec3 v_positionEC;
                varying vec3 v_normalEC;
                varying vec2 v_st;
                varying vec4 v_color;
                uniform sampler2D u_image;
                uniform vec4 u_color;
                void main()
                {
                    float powerRatio = fract(czm_frameNumber / 30.0) + 1.0;
                    float alpha = pow(1.0 - v_st.t, powerRatio);
                    gl_FragColor = vec4(u_color.rgb, alpha*u_color.a);
                }
                `,i=XE.Obj.CustomPrimitive.getRenderState(!0,!0);i.cull.enabled=!1;const s=XE.Obj.CustomPrimitive.Geometry.createCylinder(.3,2,1,6),d={position:[...t],scale:[3/50*o[0],3/50*o[1],300*o[2]],positions:s.positions,sts:s.sts,indices:s.indices,renderState:i,color:[...r],canvasWidth:1,fragmentShaderSource:n};new XE.Obj.CustomPrimitive(e).xbsjFromJSON(d)}{const n=`
                varying vec3 v_positionEC;
                varying vec3 v_normalEC;
                varying vec2 v_st;
                varying vec4 v_color;
                uniform sampler2D u_image;
                uniform vec4 u_color;
                void main()
                {
                    vec3 positionToEyeEC = -v_positionEC;
                    vec3 normalEC = normalize(v_normalEC);
                    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);

                    float dt = fract(czm_frameNumber / 90.0);
                    vec2 st = fract(vec2(1.0) + v_st - vec2(dt, dt));
                    vec4 imageColor = texture2D(u_image, st);

                    vec3 diffuse = imageColor.rgb;
                    float alpha = imageColor.a;

                    diffuse *= v_color.rgb;
                    alpha *= v_color.a;

                    diffuse *= u_color.rgb;
                    alpha *= u_color.a;

                    gl_FragColor = vec4(diffuse, alpha * pow(1.0 - v_st.t, 2.0));
                }
                `,i=`
                    p.canvasWidth = 32;
                    p.canvasHeight = 256;
                    Cesium.Resource.createIfNeeded('./images/city/particles.png').fetchImage().then(function(image) {
                        p.drawCanvas(ctx => {
                            ctx.clearRect(0, 0, 32, 256);
                            ctx.drawImage(image, 0, 0);
                        });
                    });
                `,s=XE.Obj.CustomPrimitive.getRenderState(!0,!0);s.cull.enabled=!1;const d=XE.Obj.CustomPrimitive.Geometry.createCylinder(4,4,1,6),m={fragmentShaderSource:n,evalString:i,position:[...t],scale:[3/50*o[0],3/50*o[1],300*o[2]],positions:d.positions,sts:d.sts,indices:d.indices,color:[...r],canvasWidth:32,canvasHeight:256,renderState:s};new XE.Obj.CustomPrimitive(e).xbsjFromJSON(m)}}function Se(e){const t=XE.Obj.CustomPrimitive.getRenderState(!0,!0);t.cull.enabled=!1;const r=XE.Obj.CustomPrimitive.Geometry.createCylinder(1,1,1,30),i={evalString:`
                p.canvasWidth = 512;
                p.canvasHeight = 512;
                Cesium.Resource.createIfNeeded('./images/city/circular2.png').fetchImage().then(function(image) {
                    console.log('image loaded!');
                    p.canvasWidth = 512;
                    p.canvasHeight = 256;

                    p.drawCanvas(ctx => {
                        ctx.clearRect(0, 0, 512, 256);
                        ctx.drawImage(image, 0, 0);
                    });

                    p.color = [0.5, 0.8, 1, 2];
                });
            `,preUpdateEvalString:`
                if (typeof p.dAngle === 'undefined') p.dAngle = 360.0;
                p.dAngle -= 1.0;
                if (p.dAngle < 0.0) {
                    p.dAngle = 360.0;
                }
                p.rotation[0] = p.dAngle / 180.0 * Math.PI;
            `,position:[2.120597930315031,.5451624300822016,150],scale:[100,100,314],positions:r.positions,sts:r.sts,indices:r.indices,renderState:t,canvasWidth:512,canvasHeight:512},s=new XE.Obj.CustomPrimitive(e);return s.xbsjFromJSON(i),s}function Ee(e){const t=XE.Obj.CustomPrimitive.Geometry.createCylinder(1,1,1,30),r=XE.Obj.CustomPrimitive.getRenderState(!0,!0);r.cull.enabled=!1;const i={evalString:`
                p.canvasWidth = 1;
                p.canvasHeight = 256;
                p.drawCanvas(ctx => {
                    ctx.clearRect(0, 0, 1, 256);

                    var lingrad2 = ctx.createLinearGradient(0,0,0,256);
                    lingrad2.addColorStop(0, 'rgba(255,255,255,0)');
                    lingrad2.addColorStop(1, 'rgba(255,255,255,1)');

                    ctx.fillStyle = lingrad2;
                    ctx.fillRect(0, 0, 1, 256);
                }); 
            `,preUpdateEvalString:`
                if (typeof p.dt === 'undefined') p.dt = 0.0;
                p.dt += 0.01 * 0.3;
                if (p.dt > 1.0) {
                    p.dt = 0.0;
                }

                const b = (1.0-Math.cos(p.dt*Math.PI*2.0))*0.5;
                p.scale[0] = p.scale[1] = 1000 * (1.0-Math.cos(p.dt*Math.PI))*0.5;
                p.scale[2] = 200 * b;
                p.color[3] = 2.0 * b;
            `,position:[2.1206125026580582,.545178729438238,15],scale:[500,500,100],positions:t.positions,sts:t.sts,indices:t.indices,renderState:r,canvasWidth:1,canvasHeight:256,color:[.5,.8,1,2]},s=new XE.Obj.CustomPrimitive(e);return s.xbsjFromJSON(i),s}function Le(e){const o={evalString:`
                Cesium.Resource.createIfNeeded('./images/circle.png').fetchImage().then(function(image) {
                    console.log('image loaded!');
                    p._ctx_image = image;
                });
            `,preUpdateEvalString:`
                if (typeof p.dAngle === 'undefined') p.dAngle = 360.0;
                p.dAngle -= 1.0;
                if (p.dAngle < 0.0) {
                    p.dAngle = 360.0;
                }
                const rotation = p.dAngle / 180.0 * Math.PI;

                p.drawCanvas(ctx => {
                    ctx.clearRect(0, 0, 512, 512);

                    ctx.beginPath();
                    ctx.strokeStyle = "rgb(128, 128, 128)";
                    // ctx.setLineDash([8, 8]);
                    ctx.lineWidth = 1;
                    ctx.arc(256, 256, 250, 0, Math.PI*2, true);
                    ctx.stroke();

                    if (p._ctx_image) {
                        ctx.save();
                        ctx.translate(256, 256);
                        ctx.rotate(rotation);
                        ctx.translate(-256, -256);
                        ctx.drawImage(p._ctx_image, 0, 0);
                        ctx.restore();
                    }
                });
            `,position:[2.1208980215153845,.5450726579947579,41.369588015024185],width:1e3,height:1e3,canvasWidth:512,canvasHeight:512,color:[.5,.8,1,2]},n=new XE.Obj.CustomGroundRectangle(e);return n.xbsjFromJSON(o),n}function Oe(e){const t=new XE.Obj.ODLines(e);t.color=[1,1,1,1];var r=[],o=[[[2.120576951415724,.5453286305283411,0],[2.1206180324809942,.5452742515355276,0],[2.1206522870077222,.5452127930893627,0],[2.1206589437154424,.5451630655115893,0],[2.1207314498206467,.5450382941603948,9313225746154785e-25]],[[2.1209955007242574,.5452933880932761,0],[2.1209282195105272,.545289825083161,0],[2.1208692016474275,.5452876777088307,0],[2.120819162511318,.5452826799554552,0],[2.120783810274953,.5452697527668044,0],[2.1207335742022293,.5452568892680687,0],[2.1206962437670036,.5452449834073527,9313225746154785e-25],[2.120661134416048,.5452280242012201,0],[2.120638649850512,.5452166875660143,0],[2.120618096957342,.545213841975332,0],[2.1205990690837795,.545215655029966,0],[2.1205555448547644,.5452309724456519,0],[2.120518239373133,.545245934727075,0],[2.120487939951654,.5452532353559607,0],[2.120453877869143,.5452771262379986,0]],[[2.1207720402496113,.5447232254659223,0],[2.120793937457453,.5447614096520289,0],[2.120813924804299,.5447878347320643,0],[2.120822805668622,.5448060918960522,0],[2.1208257532307546,.5448322042009828,0],[2.120829308604679,.5448854085667205,9313225746154785e-25],[2.120829710319531,.5449227070309821,-13969838619232178e-25],[2.1208166872422236,.544965451614071,0],[2.1207970443299544,.5450225616224018,0],[2.1207741955597377,.5450815697881131,0],[2.1207472452404077,.5451390197693765,0],[2.120715891711618,.5451913500871663,0],[2.120686154707263,.5452393433291649,0],[2.12063135560303,.5453206355916543,0]],[[2.121160980714632,.5451757121823626,0],[2.1210251435952436,.5451293851641247,0],[2.1209452677709963,.5451042703034664,9313225746154785e-25],[2.1208610109812414,.5450787900247277,0],[2.120760520282932,.5450446749446803,0],[2.1207079872433443,.5450233097361727,0],[2.120655050843051,.5450014714916114,0]],[[2.120812500352057,.5453409107030308,0],[2.120889078346998,.545195520436419,0],[2.120932108701968,.5451150725145038,0],[2.1209760848229955,.5450053244299348,0],[2.12100809512331,.5449329288607905,0],[2.1210103662286377,.5448484817861251,0],[2.1209514513937577,.5447197092694818,0],[2.120915420918161,.5446602609794765,0]],[[2.1207306918664655,.5450365938435415,9313225746154785e-25],[2.1206990239651544,.5450969027142336,0],[2.120677978213145,.5451274025996179,0],[2.120658030989688,.5451591032035257,0],[2.1206162009039806,.5451494731344788,0],[2.1205521515380683,.5451454787671309,0],[2.120523261544574,.5451764652644532,0],[2.120513465572076,.545186828361311,0],[2.1205064729532204,.5452286596830263,0],[2.1205097293904305,.5452390289664278,0],[2.1205155659504875,.5452579743863037,0],[2.1205339607444076,.545278609470748,0],[2.120560671532377,.5452975128166889,0],[2.1205860070598015,.5453142541502414,9313225746154785e-25]],[[2.1207475456110645,.5447800539523988,0],[2.120758418929566,.5448033612258552,0],[2.120760641853426,.5448290569441138,9313225746154785e-25],[2.1207520812530873,.5448549639478996,0],[2.120739040764019,.5448955019165921,0],[2.1207330217222946,.5449114209250849,0],[2.120718556398262,.5449340150779083,0],[2.120713075825238,.544947520937067,0],[2.120705542548285,.5449750973423848,0],[2.1206999424341655,.5449955334381246,0],[2.120687471724567,.5450193172680584,0],[2.1206764015730624,.5450357466832338,0],[2.120663102383312,.5450423671149535,0],[2.1206448093335357,.5450499263807379,9313225746154785e-25],[2.120632844942622,.5450538781259359,0],[2.120622060207328,.5450609589527403,0],[2.1206155051610045,.5450684063880887,0],[2.120607014920696,.5450806634111063,0],[2.1205992267700324,.5450923313279744,9313225746154785e-25],[2.120584223402013,.5451085782187807,0],[2.120576665442944,.5451174618031969,0],[2.1205701463581166,.5451484523716619,0],[2.1205668616484528,.5451880772265143,0],[2.120564504835388,.5452216324909629,0],[2.120566743584541,.5452398398463616,0],[2.1205793907371806,.5452571562150061,0],[2.1206001724906343,.5452746261479045,0],[2.1206140688131194,.5452855227986639,0],[2.1206437404304954,.545302603645019,0],[2.120662464415334,.5453071556708504,9313225746154785e-25],[2.1206966046753832,.5453118255745306,0],[2.120728244569391,.5453141431903682,0],[2.1207790870639474,.5453081271451783,0],[2.1207999960307644,.5453059696492232,0],[2.1208412595933046,.5453064111342434,0]],[[2.121158021864907,.5449751074159752,9313225746154785e-25],[2.1210824723034527,.5450174633121871,0],[2.120992322328455,.5450701295875267,9313225746154785e-25],[2.1209337630351115,.5451036284263123,9313225746154785e-25],[2.1208609626501214,.5451304457577895,9313225746154785e-25],[2.1207686896794486,.5451607280138492,9313225746154785e-25],[2.1207276250972584,.5451726734688432,0],[2.1206842408878455,.5451860277258503,0],[2.1206261209699546,.5452008662996621,0],[2.1205742546569972,.5452227902910405,0],[2.120525926857736,.5452438874376151,9313225746154785e-25],[2.120511201654767,.5452494511671568,0],[2.120490450284154,.5452515681283203,0],[2.1204606323651403,.5452705556733306,0]]];o.push(...o,...o);let n=10,i=4;return r=o.map(s=>({positions:s.map(d=>[d[0],d[1]]),color:[Math.random()*.5+.5,Math.random()*.8+.2,0,1],width:2,startTime:n*Math.random(),duration:i+1*Math.random()})),t.data=r,t.timeDuration=n,t.playing=!0,t}function ze(e){const t=new XE.Obj.ODLines(e);t.color=[1,1,1,1];var r=[],o=[[[2.120576951415724,.5453286305283411,0],[2.1206180324809942,.5452742515355276,0],[2.1206522870077222,.5452127930893627,0],[2.1206589437154424,.5451630655115893,0],[2.1207314498206467,.5450382941603948,9313225746154785e-25]],[[2.1209955007242574,.5452933880932761,0],[2.1209282195105272,.545289825083161,0],[2.1208692016474275,.5452876777088307,0],[2.120819162511318,.5452826799554552,0],[2.120783810274953,.5452697527668044,0],[2.1207335742022293,.5452568892680687,0],[2.1206962437670036,.5452449834073527,9313225746154785e-25],[2.120661134416048,.5452280242012201,0],[2.120638649850512,.5452166875660143,0],[2.120618096957342,.545213841975332,0],[2.1205990690837795,.545215655029966,0],[2.1205555448547644,.5452309724456519,0],[2.120518239373133,.545245934727075,0],[2.120487939951654,.5452532353559607,0],[2.120453877869143,.5452771262379986,0]],[[2.1207720402496113,.5447232254659223,0],[2.120793937457453,.5447614096520289,0],[2.120813924804299,.5447878347320643,0],[2.120822805668622,.5448060918960522,0],[2.1208257532307546,.5448322042009828,0],[2.120829308604679,.5448854085667205,9313225746154785e-25],[2.120829710319531,.5449227070309821,-13969838619232178e-25],[2.1208166872422236,.544965451614071,0],[2.1207970443299544,.5450225616224018,0],[2.1207741955597377,.5450815697881131,0],[2.1207472452404077,.5451390197693765,0],[2.120715891711618,.5451913500871663,0],[2.120686154707263,.5452393433291649,0],[2.12063135560303,.5453206355916543,0]],[[2.121160980714632,.5451757121823626,0],[2.1210251435952436,.5451293851641247,0],[2.1209452677709963,.5451042703034664,9313225746154785e-25],[2.1208610109812414,.5450787900247277,0],[2.120760520282932,.5450446749446803,0],[2.1207079872433443,.5450233097361727,0],[2.120655050843051,.5450014714916114,0]],[[2.120812500352057,.5453409107030308,0],[2.120889078346998,.545195520436419,0],[2.120932108701968,.5451150725145038,0],[2.1209760848229955,.5450053244299348,0],[2.12100809512331,.5449329288607905,0],[2.1210103662286377,.5448484817861251,0],[2.1209514513937577,.5447197092694818,0],[2.120915420918161,.5446602609794765,0]],[[2.1207306918664655,.5450365938435415,9313225746154785e-25],[2.1206990239651544,.5450969027142336,0],[2.120677978213145,.5451274025996179,0],[2.120658030989688,.5451591032035257,0],[2.1206162009039806,.5451494731344788,0],[2.1205521515380683,.5451454787671309,0],[2.120523261544574,.5451764652644532,0],[2.120513465572076,.545186828361311,0],[2.1205064729532204,.5452286596830263,0],[2.1205097293904305,.5452390289664278,0],[2.1205155659504875,.5452579743863037,0],[2.1205339607444076,.545278609470748,0],[2.120560671532377,.5452975128166889,0],[2.1205860070598015,.5453142541502414,9313225746154785e-25]],[[2.1207475456110645,.5447800539523988,0],[2.120758418929566,.5448033612258552,0],[2.120760641853426,.5448290569441138,9313225746154785e-25],[2.1207520812530873,.5448549639478996,0],[2.120739040764019,.5448955019165921,0],[2.1207330217222946,.5449114209250849,0],[2.120718556398262,.5449340150779083,0],[2.120713075825238,.544947520937067,0],[2.120705542548285,.5449750973423848,0],[2.1206999424341655,.5449955334381246,0],[2.120687471724567,.5450193172680584,0],[2.1206764015730624,.5450357466832338,0],[2.120663102383312,.5450423671149535,0],[2.1206448093335357,.5450499263807379,9313225746154785e-25],[2.120632844942622,.5450538781259359,0],[2.120622060207328,.5450609589527403,0],[2.1206155051610045,.5450684063880887,0],[2.120607014920696,.5450806634111063,0],[2.1205992267700324,.5450923313279744,9313225746154785e-25],[2.120584223402013,.5451085782187807,0],[2.120576665442944,.5451174618031969,0],[2.1205701463581166,.5451484523716619,0],[2.1205668616484528,.5451880772265143,0],[2.120564504835388,.5452216324909629,0],[2.120566743584541,.5452398398463616,0],[2.1205793907371806,.5452571562150061,0],[2.1206001724906343,.5452746261479045,0],[2.1206140688131194,.5452855227986639,0],[2.1206437404304954,.545302603645019,0],[2.120662464415334,.5453071556708504,9313225746154785e-25],[2.1206966046753832,.5453118255745306,0],[2.120728244569391,.5453141431903682,0],[2.1207790870639474,.5453081271451783,0],[2.1207999960307644,.5453059696492232,0],[2.1208412595933046,.5453064111342434,0]],[[2.121158021864907,.5449751074159752,9313225746154785e-25],[2.1210824723034527,.5450174633121871,0],[2.120992322328455,.5450701295875267,9313225746154785e-25],[2.1209337630351115,.5451036284263123,9313225746154785e-25],[2.1208609626501214,.5451304457577895,9313225746154785e-25],[2.1207686896794486,.5451607280138492,9313225746154785e-25],[2.1207276250972584,.5451726734688432,0],[2.1206842408878455,.5451860277258503,0],[2.1206261209699546,.5452008662996621,0],[2.1205742546569972,.5452227902910405,0],[2.120525926857736,.5452438874376151,9313225746154785e-25],[2.120511201654767,.5452494511671568,0],[2.120490450284154,.5452515681283203,0],[2.1204606323651403,.5452705556733306,0]]];o=o.flatMap(s=>s);let n=10,i=4;return r=o.map(s=>({positions:[s,[s[0],s[1],s[2]+Math.random()*500]],color:[.5,.8,1,1],width:2,startTime:n*Math.random(),duration:i+1*Math.random()})),t.data=r,t.timeDuration=n,t.playing=!0,t}function Re(e){const t=new XE.Obj.ODLines(e);t.color=[1,1,1,1];var r=[],o=[[[2.120597930315031,.5451624300822016,400],[2.1202907282192385,.5450835546419367,1.5]],[[2.120597930315031,.5451624300822016,400],[2.120125294340532,.5453135338319917,1.5]],[[2.120597930315031,.5451624300822016,400],[2.120593634919066,.545503909863893,1.5]],[[2.120597930315031,.5451624300822016,400],[2.120633904525988,.5448141367213986,1.5]],[[2.120597930315031,.5451624300822016,400],[2.1208228652896737,.545141073908163,1.5]],[[2.120597930315031,.5451624300822016,400],[2.120461948038486,.5451830324218808,1.5]],[[2.120597930315031,.5451624300822016,400],[2.1204975918398317,.5452978537884561,1.5]],[[2.120597930315031,.5451624300822016,400],[2.1207024221200843,.5453525660588958,1.5]],[[2.120597930315031,.5451624300822016,400],[2.1207404597752664,.5451854942212021,1.5]]],n=o.map(d=>Cesium.xbsjCreateTransmitPolyline(d[0],d[1],50,5).map(u=>{const g=Cesium.Cartographic.fromCartesian(u);return[g.longitude,g.latitude,g.height]}));n.push(...n),n.push(...n);let i=10,s=4;return r=n.map(d=>({positions:d,color:[.5,.8,1,5],width:3,startTime:i*Math.random(),duration:s+1*Math.random()})),t.data=r,t.timeDuration=i,t.playing=!0,t}function Pe(e){const t=`
            function createLabelCanvas(p) {
                const labelDiv = document.createElement('div');
                labelDiv.style = \`
                    // background: grey;
                    width: 300px;
                    height: 200px;
                    position: absolute;
                    pointer-events: none;
                \`;
                p._earth.czm.viewer.container.appendChild(labelDiv);
                p._labelDiv = labelDiv;
                // p.disposers\u662F\u4E00\u5806\u4F1A\u8C03\u7528\u51FD\u6570\u7684\u6570\u7EC4\uFF0C\u4F1A\u5728\u5BF9\u8C61\u9500\u6BC1\u65F6\u6309\u7167\u540E\u8FDB\u5148\u51FA\u7684\u987A\u5E8F\u8C03\u7528\u3002
                p.disposers.push(() => {
                    if (p._labelDiv) {
                        p._earth.czm.viewer.container.removeChild(p._labelDiv);
                        p._labelDiv = undefined;
                    }
                });

                // \u7531enabled\u6765\u63A7\u5236\u53EF\u89C1\u6027\uFF01
                p.disposers.push(XE.MVVM.watch(() => p.enabled, () => {
                    p._labelDiv.style.display = p.enabled ? 'block' : 'none';
                }));

                const labelCanvas = document.createElement('canvas');
                labelCanvas.style = \`
                    width: 100%;
                    height: 100%;
                \`;

                labelCanvas.width = 300;
                labelCanvas.height = 200;
                labelDiv.appendChild(labelCanvas);

                return labelCanvas;
            }

            function createDrawFunc(p) {
                const labelCanvas = createLabelCanvas(p);
                const ctx = labelCanvas.getContext('2d');
                function draw(w) {
                    ctx.clearRect(0, 0, 300, 200);

                    ctx.save();
                    ctx.beginPath();
                    ctx.rect((w-1)*300, 0, 300, 200);
                    ctx.clip();

                    ctx.strokeStyle = 'rgb(255, 255, 0)';
                    ctx.beginPath();
                    ctx.lineTo(0, 200);
                    ctx.lineTo(100, 100);
                    ctx.lineTo(250, 100);
                    ctx.stroke();
                    ctx.font = "16px console";
                    // ctx.textBaseline = "middle";
                    ctx.fillStyle = 'rgb(255, 255, 0)';
                    ctx.fillText('\u897F\u90E8\u4E16\u754C\u603B\u90E8\u57FA\u5730', 110, 90);
                    ctx.restore();
                }

                p._dDraw = draw;
            }

            createDrawFunc(p);

            let d = 0;
            let c = 0;
            p._dDraw(c);
            const preUpdateListener = earth.czm.scene.preUpdate.addEventListener(() => {
                if (d !== c) {
                    c += (d - c) * 0.1;
                    if (Math.abs(c - d) < 0.1) {
                        c = d;
                    }
                    p._dDraw(c);
                }
            });
            p.disposers.push(() => preUpdateListener && preUpdateListener());

            const container = p._earth.czm.viewer.container;
            const unwatch = XE.MVVM.watch(() => [...p.winPos], winPos => {
                if (p._labelDiv) {
                    p._labelDiv.style.left = \`\${winPos[0]}px\`;
                    p._labelDiv.style.bottom = \`\${winPos[3]}px\`;
                }

                // winPos \u4E3A\u4E00\u4E2A\u5305\u542B4\u4E2A\u5143\u7D20\u7684\u6570\u7EC4\uFF0C\u5206\u522B\u4EE3\u8868 [left, top, right, bottom]
                if (winPos[0] > container.offsetWidth * 0.3 && winPos[0] < container.offsetWidth * 0.7 &&
                    winPos[3] > container.offsetHeight * 0.3 && winPos[3] < container.offsetHeight * 0.7) {
                    d = 1.0;
                } else {
                    d = 0.0;
                }
            });
            p.disposers.push(() => { unwatch && unwatch(); });
            `,r=new XE.Obj.Pin(e),o={position:[2.1204918655649285,.5452743468087804,209.94294540636682],show:!1,evalString:t};return r.xbsjFromJSON(o),r}const Ve={components:{Tianditu:we,SatelliteOrbit:De},setup(){return{camera:b({position:[107.033,26.976,572504653e-2],heading:14,pitch:-79,roll:.06}),offset:[10,25],otherOpts:{offset:[0,32],position:"bottom-right"},onViewerReady:({Cesium:n,viewer:i,earth:s})=>{console.log(s,"echart"),re(s)}}}},Ze=_("\u9500\u6BC1"),Ge=_("\u52A0\u8F7D"),Ye=_("\u91CD\u8F7D");function We(e,t,r,o,n,i){const s=c("vc-navigation"),d=c("SatelliteOrbit"),m=c("Tianditu"),f=c("vc-viewer"),u=c("el-button"),g=c("el-row");return I(),w(g,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(f,{shouldAnimate:"",skyAtmosphere:!1,timeline:"",onReady:o.onViewerReady},{default:l(()=>[a(s,{offset:o.offset,onCompassEvt:e.onNavigationEvt,"other-opts":o.otherOpts,onZoomEvt:e.onNavigationEvt},null,8,["offset","onCompassEvt","other-opts","onZoomEvt"]),a(d),a(m)]),_:1},8,["onReady"]),a(g,{class:"demo-toolbar"},{default:l(()=>[a(u,{type:"danger",round:"",onClick:e.unload},{default:l(()=>[Ze]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:e.load},{default:l(()=>[Ge]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:e.reload},{default:l(()=>[Ye]),_:1},8,["onClick"])]),_:1})]),_:1},512)}var Ue=x(Ve,[["render",We]]);const He={setup(){const e=b({}),t=b([]),r=b(null),o=b(null),n=b(null),i=b(null);let s;const d=p=>{console.log(p)},m=({Cesium:p,viewer:v})=>{console.log("viewer ready"),s=v,v.scene.globe.enableLighting=!0,v.scene.globe.depthTestAgainstTerrain=!0,p.Math.setRandomNumberSeed(3);const M=p.JulianDate.fromDate(new Date(2015,2,25,16)),h=p.JulianDate.addSeconds(M,360,new p.JulianDate);v.clock.startTime=M.clone(),v.clock.stopTime=h.clone(),v.clock.currentTime=M.clone(),v.clock.clockRange=p.ClockRange.LOOP_STOP,v.clock.multiplier=10,v.timeline.zoomTo(M,h),e.value=f(-112.110693,36.0994841,.03,M),o.value=new p.TimeIntervalCollection([new p.TimeInterval({start:M,stop:h})]),n.value=new p.VelocityOrientationProperty(e.value)},f=(p,v,M,h)=>{let D=new Cesium.SampledPositionProperty;for(let T=0;T<=360;T+=45){let N=Cesium.Math.toRadians(T),E=Cesium.JulianDate.addSeconds(h,T,new Cesium.JulianDate),L=Cesium.Cartesian3.fromDegrees(p+M*1.5*Math.cos(N),v+M*Math.sin(N),Cesium.Math.nextRandomNumber()*500+1750);D.addSample(E,L),t.value.push(L)}return D},u=()=>{s.trackedEntity=void 0,s.zoomTo(s.entities,new Cesium.HeadingPitchRange(0,Cesium.Math.toRadians(-90)))},g=()=>{s.trackedEntity=void 0,s.zoomTo(s.entities,new Cesium.HeadingPitchRange(Cesium.Math.toRadians(-90),Cesium.Math.toRadians(-15),7500))},y=()=>{s.trackedEntity=i.value.getCesiumObject()};return V(()=>{r.value.creatingPromise.then(({Cesium:p,viewer:v})=>{v.zoomTo(v.entities)})}),{onEntityEvt:d,onViewerReady:m,model:r,entity:i,positions:t,orientation:n,availability:o,position:e,viewTopDown:u,viewSide:g,viewAircraft:y}}},Be=_("\u4FEF\u89C6"),Fe=_("\u4FA7\u89C6"),Qe=_("\u8DDF\u968F");function Je(e,t,r,o,n,i){const s=c("vc-graphics-model"),d=c("vc-entity"),m=c("vc-imagery-provider-arcgis"),f=c("vc-layer-imagery"),u=c("vc-viewer"),g=c("el-button"),y=c("el-row");return I(),w(y,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(u,{shouldAnimate:"",animation:"",timeline:"",onReady:o.onViewerReady},{default:l(()=>[a(d,{ref:"entity",availability:o.availability,position:o.position,orientation:o.orientation,description:"Hello VueCesium"},{default:l(()=>[a(s,{ref:"model",uri:"https://zouyaoji.top/vue-cesium/SampleData/models/CesiumAir/Cesium_Air.glb",minimumPixelSize:128},null,512)]),_:1},8,["availability","position","orientation"]),a(f,null,{default:l(()=>[a(m)]),_:1})]),_:1},8,["onReady"]),a(y,{class:"demo-toolbar"},{default:l(()=>[a(g,{type:"danger",round:"",onClick:o.viewTopDown},{default:l(()=>[Be]),_:1},8,["onClick"]),a(g,{type:"danger",round:"",onClick:o.viewSide},{default:l(()=>[Fe]),_:1},8,["onClick"]),a(g,{type:"danger",round:"",onClick:o.viewAircraft},{default:l(()=>[Qe]),_:1},8,["onClick"])]),_:1})]),_:1},512)}var Xe=x(He,[["render",Je],["__scopeId","data-v-28f64a74"]]);const Ke={data(){return{addTerrain:!1,editable:!1,clampToGround:!1,mainFabOpts:{direction:"right"},polylineDrawingOpts:{onClick(e){console.log(e)}},rectangleDrawingOpts:{regular:!1},pinDrawingOpts:{billboardOpts:{image:"https://zouyaoji.top/vue-cesium/images/grepin.png",onClick(e){console.log(e)}},labelOpts:{text:"\u56FE\u6807\u70B9",pixelOffset:[0,-60],onClick(e){console.log(e)}}},pointDrawingOpts:{preRenderDatas:[[108.96018,34.21948,50],[108.9602,34.21895,100]],pointOpts:{color:"red",onClick(e){console.log(e)}}},polygonDrawingOpts:{preRenderDatas:[[[108.95808,34.21955,30],[108.95948,34.22039,20],[108.9595,34.21914,25]],[[108.955,34.21857],[108.95573,34.21856],[108.95573,34.21761],[108.95499,34.21761]]]},regularDrawingOpts:{preRenderDatas:[[[108.95474,34.22204],[108.95564,34.22166]]],onClick(e){console.log(e)}}}},methods:{drawingsReadyDefault({Cesium:e,viewer:t,cesiumObject:r}){console.log("\u7ED8\u5236\u9009\u9879\u53C2\u6570\uFF1A",r),window.vm=this,window.viewer=t},clear(){this.$refs.drawingsCustomRef.clearAll()},toggle(e){this.$refs.drawingsCustomRef.toggleAction(e.name)},onTilesetReady(e,t){const r=Cesium.Cartographic.fromCartesian(e.boundingSphere.center),o=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,r.height),n=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,5),i=Cesium.Cartesian3.subtract(n,o,new Cesium.Cartesian3);e.modelMatrix=Cesium.Matrix4.fromTranslation(i),t.zoomTo(e),t.scene.globe.depthTestAgainstTerrain=!0,this.restoreCursorMove="auto",this.drawing=!1},drawEvt(e,t){getComputedStyle(t.canvas).cursor,e.finished?(e.type==="move"&&t.canvas.setAttribute("style",`cursor: ${this.restoreCursorMove}`),this.drawing=!1):(this.drawing=!0,e.type==="move"&&t.canvas.setAttribute("style","cursor: move"),e.type==="new"&&t.canvas.setAttribute("style","cursor: crosshair"))},activeEvt(e,t){console.log(e),t.canvas.setAttribute("style",`cursor: ${e.isActive?"crosshair":"auto"}`),e.isActive||(this.drawing=!1,this.restoreCursorMove="auto")},editorEvt(e,t){e.type==="move"?(t.canvas.setAttribute("style","cursor: move"),this.drawing=!0):t.canvas.setAttribute("style","cursor: auto")},mouseEvt(e,t){const r=getComputedStyle(t.canvas).cursor;this.drawing||(console.log(e),e.type==="onmouseover"?(this.restoreCursorMove=r,t.canvas.setAttribute("style","cursor: pointer")):t.canvas.setAttribute("style",`cursor: ${this.restoreCursorMove||"auto"}`))},clearEvt(e,t){console.log(e)},unload(){this.$refs.drawingsRef.unload()},load(){this.$refs.drawingsRef.load()},reload(){this.$refs.drawingsRef.reload()},pickEvt(e){console.log(e)}}},qe={class:"custom-drawings"},$e=_("\u6E05\u9664"),et=_("\u9500\u6BC1"),tt=_("\u52A0\u8F7D"),ot=_("\u91CD\u8F7D"),nt=_("\u53EF\u7F16\u8F91"),at=_("\u5730\u5F62"),it=_("\u8D34\u5730");function rt(e,t,r,o,n,i){const s=c("vc-drawings",!0),d=c("vc-btn"),m=c("el-row"),f=c("vc-primitive-tileset"),u=c("vc-imagery-provider-tianditu"),g=c("vc-layer-imagery"),y=c("vc-terrain-provider-cesium"),p=c("vc-viewer"),v=c("el-button"),M=c("el-checkbox");return I(),w(m,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(p,null,{default:l(()=>[a(s,{ref:"drawingsRef",position:"bottom-left","main-fab-opts":n.mainFabOpts,offset:[10,65],editable:n.editable,"clamp-to-ground":n.clampToGround,onDrawEvt:i.drawEvt,onActiveEvt:i.activeEvt,onEditorEvt:i.editorEvt,onMouseEvt:i.mouseEvt,onClearEvt:i.clearEvt,onReady:i.drawingsReadyDefault,"pin-drawing-opts":n.pinDrawingOpts,"point-drawing-opts":n.pointDrawingOpts,"polygon-drawing-opts":n.polygonDrawingOpts,"polyline-drawing-opts":n.polylineDrawingOpts,"regular-drawing-opts":n.regularDrawingOpts},null,8,["main-fab-opts","editable","clamp-to-ground","onDrawEvt","onActiveEvt","onEditorEvt","onMouseEvt","onClearEvt","onReady","pin-drawing-opts","point-drawing-opts","polygon-drawing-opts","polyline-drawing-opts","regular-drawing-opts"]),a(s,{ref:"drawingsCustomRef",position:"bottom-left","main-fab-opts":n.mainFabOpts,offset:[10,30],editable:n.editable,"clamp-to-ground":n.clampToGround,"polyline-drawing-opts":n.polylineDrawingOpts,"pin-drawing-opts":n.pinDrawingOpts,"rectangle-drawing-opts":n.rectangleDrawingOpts},{body:l(h=>[A("div",qe,[a(m,null,{default:l(()=>[(I(!0),U(H,null,q(h,(D,T)=>(I(),w(d,{key:T,color:D.isActive?"positive":"primary",rounded:"",onClick:N=>i.toggle(D)},{default:l(()=>[_(ne(D.tip.replace("\u7ED8\u5236","")),1)]),_:2},1032,["color","onClick"]))),128)),a(d,{color:"red",rounded:"",onClick:i.clear},{default:l(()=>[$e]),_:1},8,["onClick"])]),_:2},1024)])]),_:1},8,["main-fab-opts","editable","clamp-to-ground","polyline-drawing-opts","pin-drawing-opts","rectangle-drawing-opts"]),a(f,{url:"https://zouyaoji.top/vue-cesium/SampleData/Cesium3DTiles/Tilesets/dayanta/tileset.json",onReadyPromise:i.onTilesetReady},null,8,["onReadyPromise"]),a(g,null,{default:l(()=>[a(u,{"map-style":"img_c","maximum-level":17,token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),n.addTerrain?(I(),w(y,{key:0})):P("",!0)]),_:1}),a(m,{class:"demo-toolbar"},{default:l(()=>[a(v,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[et]),_:1},8,["onClick"]),a(v,{type:"danger",round:"",onClick:i.load},{default:l(()=>[tt]),_:1},8,["onClick"]),a(v,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[ot]),_:1},8,["onClick"]),a(M,{modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=h=>n.editable=h)},{default:l(()=>[nt]),_:1},8,["modelValue"]),a(M,{modelValue:n.addTerrain,"onUpdate:modelValue":t[1]||(t[1]=h=>n.addTerrain=h)},{default:l(()=>[at]),_:1},8,["modelValue"]),a(M,{modelValue:n.clampToGround,"onUpdate:modelValue":t[2]||(t[2]=h=>n.clampToGround=h)},{default:l(()=>[it]),_:1},8,["modelValue"])]),_:1})]),_:1},512)}var lt=x(Ke,[["render",rt]]);const st={data(){return{addTerrain:!1,editable:!1,clampToGround:!1,measurementFabOptions1:{direction:"right"},measurementFabOptions2:{direction:"left",color:"accent"},measurementFabOptions3:{direction:"right",modelValue:!1,color:"primary"},distanceMeasurementOpts3:{measureUnits:{distanceUnits:X.KILOMETERS,angleUnits:W.RADIANS},decimals:{distance:4,angle:3}},componentDistanceMeasurementOpts3:{measureUnits:{distanceUnits:X.KILOMETERS,angleUnits:W.RADIANS},decimals:{distance:4,angle:3}},pointMeasurementOpts:{preRenderDatas:[[108.9602,34.21895,500]],pointOpts:{color:"red"}},areaMeasurementOpts:{preRenderDatas:[[[108.95808,34.21955,30],[108.95948,34.22039,20],[108.9595,34.21914,25]],[[108.955,34.21857],[108.95573,34.21856],[108.95573,34.21761],[108.95499,34.21761]]]},pointMeasurementOpts3:{measureUnits:{distanceUnits:X.METERS,angleUnits:W.DEGREES_MINUTES_SECONDS,slopeUnits:W.DEGREES},decimals:{lng:3,lat:3,height:2,slope:3}},measurements:["component-distance","polyline","vertical","area","point"],measurementFabOptions4:{direction:"right"}}},methods:{drawingsReadyDefault({Cesium:e,viewer:t,cesiumObject:r}){console.log("\u7ED8\u5236\u9009\u9879\u53C2\u6570\uFF1A",r),window.vm=this},clear(){this.$refs.measurementsRef4.clearAll()},toggle(e){this.$refs.measurementsRef4.toggleAction(e.name)},onTilesetReady(e,t){t.zoomTo(e),t.scene.globe.depthTestAgainstTerrain=!0,this.restoreCursorMove="auto",this.drawing=!1},drawEvt(e,t){console.log(e),getComputedStyle(t.canvas).cursor,e.finished?(this.drawing=!1,e.type==="move"&&t.canvas.setAttribute("style",`cursor: ${this.restoreCursorMove}`)):(this.drawing=!0,e.type==="move"&&t.canvas.setAttribute("style","cursor: move"),e.type==="new"&&t.canvas.setAttribute("style","cursor: crosshair"))},activeEvt(e,t){console.log(e),t.canvas.setAttribute("style",`cursor: ${e.isActive?"crosshair":"auto"}`),e.isActive||(this.drawing=!1,this.restoreCursorMove="auto")},editorEvt(e,t){console.log(e),e.type==="move"&&(getComputedStyle(t.canvas).cursor,t.canvas.setAttribute("style","cursor: move"),this.drawing=!0)},mouseEvt(e,t){console.log(e);const r=getComputedStyle(t.canvas).cursor;this.drawing||(e.type==="onmouseover"?(this.restoreCursorMove=r,t.canvas.setAttribute("style","cursor: pointer")):t.canvas.setAttribute("style",`cursor: ${this.restoreCursorMove||"auto"}`))},unload(){this.$refs.measurementsRef.unload()},load(){this.$refs.measurementsRef.load()},reload(){this.$refs.measurementsRef.reload()}}},ct={class:"custom-measurements"},dt=_("\u6E05\u9664"),ut=_("\u9500\u6BC1"),mt=_("\u52A0\u8F7D"),pt=_("\u91CD\u8F7D"),gt=_("\u53EF\u7F16\u8F91"),ft=_("\u5730\u5F62"),_t=_("\u8D34\u5730");function vt(e,t,r,o,n,i){const s=c("vc-measurements",!0),d=c("vc-btn"),m=c("el-row"),f=c("vc-primitive-tileset"),u=c("vc-imagery-provider-tianditu"),g=c("vc-layer-imagery"),y=c("vc-terrain-provider-cesium"),p=c("vc-viewer"),v=c("el-button"),M=c("el-checkbox");return I(),w(m,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(p,null,{default:l(()=>[a(s,{onDrawEvt:i.drawEvt,onActiveEvt:i.activeEvt,onEditorEvt:i.editorEvt,onMouseEvt:i.mouseEvt,ref:"measurementsRef",position:"bottom-left","clamp-to-ground":n.clampToGround,"main-fab-opts":n.measurementFabOptions1,offset:[10,65],editable:n.editable,onReady:i.drawingsReadyDefault,"point-measurement-opts":n.pointMeasurementOpts,"area-measurement-opts":n.areaMeasurementOpts},null,8,["onDrawEvt","onActiveEvt","onEditorEvt","onMouseEvt","clamp-to-ground","main-fab-opts","editable","onReady","point-measurement-opts","area-measurement-opts"]),a(s,{ref:"measurementsRef2",position:"top-right","main-fab-opts":n.measurementFabOptions2,editable:n.editable,measurements:n.measurements,"active-color":"yellow"},null,8,["main-fab-opts","editable","measurements"]),a(s,{ref:"measurementsRef3",position:"top-left","main-fab-opts":n.measurementFabOptions3,"distance-measurement-opts":n.distanceMeasurementOpts3,"component-distance-measurement-opts":n.componentDistanceMeasurementOpts3,"point-measurement-opts":n.pointMeasurementOpts3,editable:n.editable,offset:[20,60]},null,8,["main-fab-opts","distance-measurement-opts","component-distance-measurement-opts","point-measurement-opts","editable"]),a(s,{ref:"measurementsRef4",position:"bottom-left","main-fab-opts":n.measurementFabOptions4,offset:[10,30],editable:n.editable},{body:l(h=>[A("div",ct,[a(m,null,{default:l(()=>[(I(!0),U(H,null,q(h,(D,T)=>(I(),w(d,{key:T,color:D.isActive?"amber":"primary",onClick:N=>i.toggle(D),rounded:""},{default:l(()=>[_(ne(D.tip.replace("\u91CF\u7B97","")),1)]),_:2},1032,["color","onClick"]))),128)),a(d,{rounded:"",color:"red",onClick:i.clear},{default:l(()=>[dt]),_:1},8,["onClick"])]),_:2},1024)])]),_:1},8,["main-fab-opts","editable"]),a(f,{url:"https://zouyaoji.top/vue-cesium/SampleData/Cesium3DTiles/Tilesets/dayanta/tileset.json",onReadyPromise:i.onTilesetReady},null,8,["onReadyPromise"]),a(g,null,{default:l(()=>[a(u,{"map-style":"img_c","maximum-level":17,token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),n.addTerrain?(I(),w(y,{key:0})):P("",!0)]),_:1}),a(m,{class:"demo-toolbar"},{default:l(()=>[a(v,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[ut]),_:1},8,["onClick"]),a(v,{type:"danger",round:"",onClick:i.load},{default:l(()=>[mt]),_:1},8,["onClick"]),a(v,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[pt]),_:1},8,["onClick"]),a(M,{modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=h=>n.editable=h)},{default:l(()=>[gt]),_:1},8,["modelValue"]),a(M,{modelValue:n.addTerrain,"onUpdate:modelValue":t[1]||(t[1]=h=>n.addTerrain=h)},{default:l(()=>[ft]),_:1},8,["modelValue"]),a(M,{modelValue:n.clampToGround,"onUpdate:modelValue":t[2]||(t[2]=h=>n.clampToGround=h)},{default:l(()=>[_t]),_:1},8,["modelValue"])]),_:1})]),_:1},512)}var yt=x(st,[["render",vt]]);const ht={data(){return{show:!0,data:[],max:346.05413818359375,min:.5259535908699036,rectangle:[0,0,0,0],segments:[[10,"#4A90C3"],[20,"#81AAAC"],[40,"#B2C899"],[60,"#E5EA84"],[100,"#F8DE6D"],[150,"#EFA451"],[200,"#E46C38"],[346,"#D53127"]],options:{backgroundColor:"rgba(0,0,0,0)",opacity:.8,radius:10,maxOpacity:.6,minOpacity:.3,blur:.75}}},methods:{ready({Cesium:e,viewer:t}){e.Resource.fetchJson({url:"https://zouyaoji.top/vue-cesium/SampleData/heatmap/pop.json"}).then(r=>{this.rectangle=r.bounds,this.min=r.min,this.max=r.max,this.data=r.data})},onHeatmapReady({Cesium:e,viewer:t,cesiumObject:r}){this.$refs.heatmap.childRef.value.creatingPromise.then(({Cesium:o,viewer:n,cesiumObject:i})=>{if(console.log(i),i instanceof o.GroundPrimitive){const s=i.geometryInstances.geometry.constructor.createGeometry(i.geometryInstances.geometry);n.scene.camera.flyToBoundingSphere(s.boundingSphere)}else i instanceof o.Entity?n.flyTo(i):n.camera.flyTo({destination:i.imageryProvider.rectangle})})},unload(){this.$refs.html.unload()},load(){this.$refs.html.load()},reload(){this.$refs.html.reload()},toggle(){this.show=!this.show}}},le=e=>(ae("data-v-2d9c6c08"),e=e(),ie(),e),Mt=le(()=>A("div",{class:"vc-box"},"aa",-1)),bt=le(()=>A("div",{class:"label-container label-container-var"},[A("div",{class:"label-animate-marker_border"},[A("span",{class:"label-animate-marker_text"},"\u6210\u90FD\u6B22\u8FCE\u60A8")])],-1)),It=_("\u9500\u6BC1"),wt=_("\u52A0\u8F7D"),Ct=_("\u91CD\u8F7D"),Tt=_("\u663E/\u9690");function Dt(e,t,r,o,n,i){const s=c("vc-overlay-html",!0),d=c("vc-graphics-point"),m=c("vc-entity"),f=c("vc-imagery-provider-tianditu"),u=c("vc-layer-imagery"),g=c("vc-viewer"),y=c("el-button"),p=c("el-row");return I(),w(p,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(g,{onReady:i.ready},{default:l(()=>[a(s,{ref:"html",position:[117.186419,45.66446,20],show:n.show},{default:l(()=>[Mt]),_:1},8,["position","show"]),a(m,{position:[117.186419,45.66446,20]},{default:l(()=>[a(d,{color:"red","pixel-size":8})]),_:1},8,["position"]),a(s,{position:{lng:104.04,lat:30.4}},{default:l(()=>[bt]),_:1},8,["position"]),a(u,{"sort-order":20},{default:l(()=>[a(f,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(u,{"sort-order":10},{default:l(()=>[a(f,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["onReady"]),a(p,{class:"demo-toolbar"},{default:l(()=>[a(y,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[It]),_:1},8,["onClick"]),a(y,{type:"danger",round:"",onClick:i.load},{default:l(()=>[wt]),_:1},8,["onClick"]),a(y,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[Ct]),_:1},8,["onClick"]),a(y,{type:"danger",round:"",onClick:i.toggle},{default:l(()=>[Tt]),_:1},8,["onClick"])]),_:1})]),_:1},512)}var xt=x(ht,[["render",Dt],["__scopeId","data-v-2d9c6c08"]]);const jt={setup(){const e=b([]),t=b(null),r=b(null),o=b(null),n=b(null),i=b(0),s=b(1),d=b(1);b("yeah");const m=b(!1),f=b(!1),u=ge(()=>{var C;return(C=e.value.map(j=>j.sampledPositions.map(k=>({position:k.position,color:"rgb(255,229,0)"}))))==null?void 0:C[0]}),g=()=>{d.value=1,i.value=Cesium.ClockRange.UNBOUNDED;const C=Cesium.JulianDate.fromDate(new Date),j=Cesium.JulianDate.addHours(C,8,new Cesium.JulianDate);n.value=j.clone(),r.value=C.clone(),o.value=C.clone();const k=[];for(let O=0;O<50;O++)k.push({id:O,maxCacheSize:10,model:{uri:"https://zouyaoji.top/vue-cesium/SampleData/models/Car/Car.gltf",scale:.5},path:{leadTime:0,trailTime:.5,resolution:1,width:3,material:{fabric:{type:"PolylineGlow",uniforms:{glowPower:.1,color:"yellow"}}}},sampledPositions:[{position:p(1,.05)[0],interval:3,id:Cesium.createGuid()}]});return k},y=async()=>{const C=await Cesium.Resource.fetchJson("../../SampleData/json/trajectory.json"),j=[],k=[],O=[];o.value=new Date(C[0].time),r.value=new Date(C[0].time),n.value=new Date(C[C.length-1].time),d.value=10,i.value=Cesium.ClockRange.LOOP_STOP;const Q=Cesium.JulianDate.fromDate(n.value).secondsOfDay-Cesium.JulianDate.fromDate(o.value).secondsOfDay,Y=new Cesium.SampledProperty(Number);let ee=0;for(let z=0;z<C.length;z++){const S=C[z];k.push({position:[S.lon,S.lat],time:S.time,id:S.id}),O.push([S.lon,S.lat]);const R=Number(S.speed),ue=Math.PI*.52*2,me=R/ue,pe=Cesium.JulianDate.fromIso8601(S.time.replace(" ","T"));ee+=Math.PI*2*Q/C.length*me,Y.addSample(pe,ee)}const ce=new Cesium.CallbackProperty(function(z,S){const R=Y.getValue(z);return Cesium.defined(R)?Cesium.Quaternion.fromAxisAngle(Cesium.Cartesian3.UNIT_X,R,S):new Cesium.Quaternion},!1),J=new Cesium.NodeTransformationProperty({rotation:ce}),de={Wheels:J,Wheels_mid:J,Wheels_rear:J};return j.push({maxCacheSize:C.length,model:{uri:"https://zouyaoji.top/vue-cesium/SampleData/models/GroundVehicle/GroundVehicle.glb",scale:5,runAnimations:!1,nodeTransformations:de},path:{leadTime:0,trailTime:25,resolution:1,width:10,material:{fabric:{type:"PolylineGlow",uniforms:{glowPower:.1,color:"yellow"}}}},label:{text:new Cesium.CallbackProperty(z=>{if(t.value.getOverlays().length){const te=t.value.getOverlays()[0]._velocityVectorProperty.getValue(z,{});var S=Cesium.Cartesian3.magnitude(te),R=Math.round(S*3.6);return R+" km/h"}return"hello"},!1),verticalOrigin:1,showBackground:!0,font:"20px sans-serif",distanceDisplayCondition:[0,3e3],eyeOffset:{x:0,y:25,z:0}},polyline:{positions:O,width:3,material:"#69B273",depthFailMaterial:"#69B273",clampToGround:!0},sampledPositions:k}),j},p=(C,j)=>{let k=[];for(let O=0;O<C;O++){let Q=120.65276089+Math.random()*j,Y=31.310530293+Math.random()*j;k.push([Q,Y])}return k},v=()=>{t.value.unload()},M=()=>{t.value.load()},h=()=>{t.value.reload()};let D,T;const N=({viewer:C,cesiumObject:j})=>{var k=C.scene;k.debugShowFramesPerSecond=!0,f.value=!0,C.flyTo(j,{duration:3})},E=async C=>{D&&clearInterval(D),C===0?(e.value=g(),D=setInterval(()=>{e.value.forEach(j=>{j.sampledPositions.push({position:p(1,.05)[0],time:Cesium.JulianDate.addSeconds(Cesium.JulianDate.now(),3,new Cesium.JulianDate),id:Cesium.createGuid()}),j.sampledPositions.length>10&&j.sampledPositions.splice(0,1)})},3e3),oe(()=>{t.value.cesiumObject&&(T==null||T.flyTo(t.value.cesiumObject,{duration:3})),T.timeline.zoomTo(T.clock.startTime,T.clock.stopTime)})):(e.value=await y(),oe(()=>{t.value.cesiumObject.entities.values[0].sampledPositions.map(k=>Cesium.Cartesian3.fromDegrees(k.position[0],k.position[1])),T.timeline.zoomTo(T.clock.startTime,T.clock.stopTime),Z()}))},L=({viewer:C})=>{T=C,E(s.value)},Z=()=>{s.value===0?t.value.zoomToOverlay():t.value.zoomToOverlay([],[0,-90,1500])},B=()=>{s.value===0?t.value.zoomToOverlay([],[-50,-20,8e3]):t.value.zoomToOverlay([],[-50,-20,1800])},F=C=>{console.log(C,"mode"),t.value.trackOverlay(0,{mode:C,viewFrom:[0,0,1800]})},G=(C,j)=>{console.log("\u5230\u8FBE\u7AD9\u70B9\uFF1A",C,j)};return fe(()=>{clearInterval(D)}),{dynamicOverlays:e,dynamicOverlayRef:t,currentTime:r,startTime:o,stopTime:n,clockRange:i,onViewerReady:L,unload:v,load:M,reload:h,ready:N,radio:s,onRadioChanged:E,multiplier:d,viewTopDown:Z,viewSide:B,trackOverlay:F,stops:u,showStop:m,stopArrived:G,shouldAnimate:f}}},Nt=_("\u9500\u6BC1"),kt=_("\u52A0\u8F7D"),At=_("\u91CD\u8F7D"),St=_("\u4FEF\u89C6"),Et=_("\u4FA7\u89C6"),Lt=_("\u9ED8\u8BA4\u8DDF\u968F"),Ot=_("\u4FEF\u89C6\u8DDF\u968F"),zt=_("\u7B2C\u4E00\u4EBA\u79F0\u8DDF\u968F"),Rt=_("\u53D6\u6D88\u8DDF\u968F"),Pt=_("\u5B9E\u65F6\u8F68\u8FF9"),Vt=_("\u5386\u53F2\u8F68\u8FF9"),Zt=_("\u663E\u793A\u7AD9\u70B9");function Gt(e,t,r,o,n,i){const s=c("vc-overlay-dynamic",!0),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-collection-point"),u=c("vc-viewer"),g=c("el-button"),y=c("el-radio"),p=c("el-radio-group"),v=c("el-checkbox"),M=c("el-row");return I(),w(M,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(u,{timeline:"",animation:"","info-box":!0,"scene-mode-picker":!0,onReady:o.onViewerReady,fullscreenButton:""},{default:l(()=>[a(s,{ref:"dynamicOverlayRef","current-time":o.currentTime,"onUpdate:current-time":t[0]||(t[0]=h=>o.currentTime=h),"start-time":o.startTime,"onUpdate:start-time":t[1]||(t[1]=h=>o.startTime=h),"stop-time":o.stopTime,"onUpdate:stop-time":t[2]||(t[2]=h=>o.stopTime=h),"dynamic-overlays":o.dynamicOverlays,"clock-range":o.clockRange,multiplier:o.multiplier,"should-animate":o.shouldAnimate,"onUpdate:shouldAnimate":t[3]||(t[3]=h=>o.shouldAnimate=h),onStopArrived:o.stopArrived,onReady:o.ready},null,8,["current-time","start-time","stop-time","dynamic-overlays","clock-range","multiplier","should-animate","onStopArrived","onReady"]),a(m,{"sort-order":10},{default:l(()=>[a(d,{"map-style":"vec_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),o.showStop?(I(),w(f,{key:0,points:o.stops},null,8,["points"])):P("",!0)]),_:1},8,["onReady"]),a(M,{class:"demo-toolbar"},{default:l(()=>[a(g,{type:"danger",round:"",onClick:o.unload},{default:l(()=>[Nt]),_:1},8,["onClick"]),a(g,{type:"danger",round:"",onClick:o.load},{default:l(()=>[kt]),_:1},8,["onClick"]),a(g,{type:"danger",round:"",onClick:o.reload},{default:l(()=>[At]),_:1},8,["onClick"]),a(g,{type:"danger",round:"",onClick:o.viewTopDown},{default:l(()=>[St]),_:1},8,["onClick"]),a(g,{type:"danger",round:"",onClick:o.viewSide},{default:l(()=>[Et]),_:1},8,["onClick"]),a(g,{type:"danger",round:"",onClick:t[4]||(t[4]=h=>o.trackOverlay("TRACKED"))},{default:l(()=>[Lt]),_:1}),a(g,{type:"danger",round:"",onClick:t[5]||(t[5]=h=>o.trackOverlay("TP"))},{default:l(()=>[Ot]),_:1}),a(g,{type:"danger",round:"",onClick:t[6]||(t[6]=h=>o.trackOverlay("FP"))},{default:l(()=>[zt]),_:1}),a(g,{type:"danger",round:"",onClick:t[7]||(t[7]=h=>o.trackOverlay("FREE"))},{default:l(()=>[Rt]),_:1}),a(p,{modelValue:o.radio,"onUpdate:modelValue":t[8]||(t[8]=h=>o.radio=h),onChange:o.onRadioChanged},{default:l(()=>[a(y,{label:0},{default:l(()=>[Pt]),_:1}),a(y,{label:1},{default:l(()=>[Vt]),_:1})]),_:1},8,["modelValue","onChange"]),o.radio===1?(I(),w(v,{key:0,modelValue:o.showStop,"onUpdate:modelValue":t[9]||(t[9]=h=>o.showStop=h),style:{"padding-left":"15px"}},{default:l(()=>[Zt]),_:1},8,["modelValue"])):P("",!0)]),_:1})]),_:1},512)}var Yt=x(jt,[["render",Gt],["__scopeId","data-v-7caaa6a7"]]);const Wt={setup(){const e=b({position:[107.033,26.976,572504653e-2],heading:14,pitch:-79,roll:.06}),t=b(null),r=[{level:1,name:"\u5317\u4EAC",label:"beijing",value:[116.4551,40.2539],symbol:"",symbolSize:[30,30]},{level:1,symbol:"",name:"\u5ECA\u574A",label:"langfang",category:0,active:!0,speed:6,value:[116.521,39.0509],belong:"\u5317\u4EAC"},{level:1,symbol:"",name:"\u4E4C\u9C81\u6728\u9F50",category:0,active:!0,speed:6,value:[87.9236,43.5883],belong:"\u5317\u4EAC"},{level:1,symbol:"",name:"\u5170\u5DDE",category:0,active:!0,speed:6,value:[103.5901,36.3043],belong:"\u5317\u4EAC"},{level:1,symbol:"",name:"\u676D\u5DDE",category:0,active:!0,speed:6,value:[119.5313,29.8773],belong:"\u5317\u4EAC"},{level:1,symbol:"",name:"\u56DB\u5DDD",category:0,active:!0,speed:6,value:[103.9526,30.7617],belong:"\u5317\u4EAC"},{level:2,symbol:"",name:"\u91CD\u5E86",category:0,active:!0,speed:6,value:[107.7539,30.1904],belong:"\u56DB\u5DDD"},{level:1,symbol:"",name:"\u53A6\u95E8",category:0,active:!0,speed:6,value:[118.1689,24.6478],belong:"\u5317\u4EAC"},{level:1,symbol:"",name:"\u5305\u5934",category:0,active:!0,speed:6,value:[110.3467,41.4899],belong:"\u5317\u4EAC"},{level:1,symbol:"",name:"\u6E29\u5DDE",category:0,active:!0,speed:6,value:[120.498,27.8119],belong:"\u676D\u5DDE"},{level:2,symbol:"",name:"\u821F\u5C71",category:0,active:!0,speed:6,value:[122.2559,30.2234],belong:"\u676D\u5DDE"}],o=["#fff","#f6fb05","#00fcff"],n=["image://https://zouyaoji.top/vue-cesium/images/station-blue.png","image://https://zouyaoji.top/vue-cesium/images/station-yellow.png"],i=["image://https://zouyaoji.top/vue-cesium/images/symbol-white.png","image://https://zouyaoji.top/vue-cesium/images/symbol-yellow.png"];r.forEach(p=>{p.symbol=n[p.level-1]});const s=[[],[],[]];r.forEach(p=>{p.belong&&(Array.isArray(p.belong)?p.belong:[p.belong]).forEach(M=>{r.forEach(h=>{M===h.name&&s[p.level-1].push([{coord:h.value},{coord:p.value}])})})});const d=[{type:"effectScatter",coordinateSystem:"cesium",symbolSize:[20,20],symbolOffset:[0,-10],z:3,circular:{rotateLabel:!0},label:{normal:{show:!0,position:"right",formatter:"{b}",fontSize:24,color:"#fff",textBorderColor:"#2aa4e8",textBorderWidth:2,offset:[0,20]}},itemStyle:{normal:{shadowColor:"none"}},data:r}],m=[];s.forEach((p,v)=>{console.log(p),m.push({name:"",type:"lines",coordinateSystem:"cesium",z:1,effect:{show:!0,smooth:!1,trailLength:0,symbol:i[v],symbolSize:[10,30],period:4},lineStyle:{width:2,color:o[v],curveness:-.2},data:p})});const f={animation:!0,series:[...d,...m]};return console.log(f),{camera:e,options:f,unload:()=>{t.value.unload()},load:()=>{t.value.load()},reload:()=>{t.value.reload()},echartOverlay:t}}},Ut=_("\u9500\u6BC1"),Ht=_("\u52A0\u8F7D"),Bt=_("\u91CD\u8F7D");function Ft(e,t,r,o,n,i){const s=c("vc-overlay-echarts",!0),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-viewer"),u=c("el-button"),g=c("el-row");return I(),w(g,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(f,{camera:o.camera},{default:l(()=>[a(s,{ref:"echartOverlay",options:o.options},null,8,["options"]),a(m,{"sort-order":20},{default:l(()=>[a(d,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(m,{"sort-order":10},{default:l(()=>[a(d,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["camera"]),a(g,{class:"demo-toolbar"},{default:l(()=>[a(u,{type:"danger",round:"",onClick:o.unload},{default:l(()=>[Ut]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:o.load},{default:l(()=>[Ht]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:o.reload},{default:l(()=>[Bt]),_:1},8,["onClick"])]),_:1})]),_:1},512)}var Qt=x(Wt,[["render",Ft]]);const Jt={data(){return{typhoonRoutes:[]}},mounted(){},methods:{onViewerReady(){Cesium.Resource.fetchJson({url:"https://zouyaoji.top/vue-cesium/SampleData/typhoon/202209.json"}).then(e=>{this.typhoonRoutes=e})},onTyphoonReady(){},onForecastRouteAdded(e){this.$refs.typhoonRef.flyToTyphoonRoute("202209")},pointProps(e){return{color:{"\u70ED\u5E26\u4F4E\u538B(TD)":"#30fc31","\u70ED\u5E26\u98CE\u66B4(TS)":"#307efa","\u5F3A\u70ED\u5E26\u98CE\u66B4(STS)":"#fffc00","\u53F0\u98CE(TY)":"#ff9c00","\u5F3A\u53F0\u98CE(STY)":"#fb7cff","\u8D85\u5F3A\u53F0\u98CE(SuperTY)":"#fa3030"}[e.strong]||"#409eff",pixelSize:8,outlineColor:"rgba(0,0,0,0.6)",outlineWidth:2}},linePrimitiveProps(e){const t={\u4E2D\u56FD\u9999\u6E2F:"#f5000e",\u65E5\u672C:"#0000ff",\u4E2D\u592E:"#ff0000",\u7F8E\u56FD:"#000000",\u97E9\u56FD:"#41c1f6",\u5E7F\u5DDE:"#ede12c",\u4E0A\u6D77:"#cdf3dd",\u798F\u5DDE:"#c7c7c7",\u65B0\u5FB7\u91CC:"#345cdc",\u4E4C\u5170\u5DF4\u6258:"#12a3dd",\u83AB\u65AF\u79D1:"#4fea03",\u6CB3\u5185:"#41c1fd",\u66FC\u8C37:"#ddc1f6",\u82F1\u56FD:"#E1DB1A"};return{appearance:{type:e.type==="live"?"PolylineColorAppearance":"PolylineMaterialAppearance",options:{material:e.type==="live"?void 0:{fabric:{type:"PolylineDash",uniforms:{color:t[e.typhoonRoute.sets]||"#000000"}}},translucent:!0}}}},labelProps(e){return{text:e.typhoonRoute.name}},unload(){this.$refs.typhoonRef.unload()},load(){this.$refs.typhoonRef.load()},reload(){this.$refs.typhoonRef.reload()}}},Xt=_("\u9500\u6BC1"),Kt=_("\u52A0\u8F7D"),qt=_("\u91CD\u8F7D");function $t(e,t,r,o,n,i){const s=c("vc-overlay-typhoon",!0),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-viewer"),u=c("el-button"),g=c("el-row");return I(),w(g,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(f,{onReady:i.onViewerReady},{default:l(()=>[n.typhoonRoutes.length?(I(),w(s,{key:0,ref:"typhoonRef","typhoon-routes":n.typhoonRoutes,"point-props":i.pointProps,"line-primitive-props":i.linePrimitiveProps,"label-props":i.labelProps,onReady:i.onTyphoonReady,onForecastRouteAdded:i.onForecastRouteAdded},null,8,["typhoon-routes","point-props","line-primitive-props","label-props","onReady","onForecastRouteAdded"])):P("",!0),a(m,{"sort-order":20},{default:l(()=>[a(d,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(m,{"sort-order":10},{default:l(()=>[a(d,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["onReady"]),a(g,{class:"demo-toolbar"},{default:l(()=>[a(u,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[Xt]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.load},{default:l(()=>[Kt]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[qt]),_:1},8,["onClick"])]),_:1})]),_:1},512)}var eo=x(Jt,[["render",$t]]);const to={setup(){const e=b(null),t=b(1),r=b(1),o=b(1);let n;return{provider:e,unload:()=>{e.value.unload()},reload:()=>{e.value.reload()},load:()=>{e.value.load()},alpha:t,brightness:r,contrast:o,onImageryProviderReady:u=>{n.camera.flyTo({destination:u.rectangle})},onViewerReady:u=>{n=u.viewer}}}},oo={class:"demo-toolbar"},no=_("\u9500\u6BC1"),ao=_("\u52A0\u8F7D"),io=_("\u91CD\u8F7D"),ro={class:"block"},lo=A("span",{class:"demonstration"},"\u900F\u660E\u5EA6",-1),so=A("span",{class:"demonstration"},"\u4EAE\u5EA6",-1),co=A("span",{class:"demonstration"},"\u5BF9\u6BD4\u5EA6",-1);function uo(e,t,r,o,n,i){const s=c("vc-imagery-provider-supermap",!0),d=c("vc-layer-imagery"),m=c("vc-viewer"),f=c("el-button"),u=c("el-row"),g=c("el-slider"),y=c("el-col");return I(),w(u,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(m,{onReady:o.onViewerReady},{default:l(()=>[a(d,{alpha:o.alpha,brightness:o.brightness,contrast:o.contrast},{default:l(()=>[a(s,{onReadyPromise:o.onImageryProviderReady,ref:"provider",url:"https://www.supermapol.com/realspace/services/3D-dixingyingxiang/rest/realspace/datas/MosaicResult"},null,8,["onReadyPromise"])]),_:1},8,["alpha","brightness","contrast"])]),_:1},8,["onReady"]),A("div",oo,[a(u,null,{default:l(()=>[a(f,{type:"danger",round:"",onClick:o.unload},{default:l(()=>[no]),_:1},8,["onClick"]),a(f,{type:"danger",round:"",onClick:o.load},{default:l(()=>[ao]),_:1},8,["onClick"]),a(f,{type:"danger",round:"",onClick:o.reload},{default:l(()=>[io]),_:1},8,["onClick"])]),_:1}),a(u,null,{default:l(()=>[a(y,null,{default:l(()=>[A("div",ro,[lo,a(g,{modelValue:o.alpha,"onUpdate:modelValue":t[0]||(t[0]=p=>o.alpha=p),min:0,max:1,step:.01},null,8,["modelValue","step"]),so,a(g,{modelValue:o.brightness,"onUpdate:modelValue":t[1]||(t[1]=p=>o.brightness=p),min:0,max:5,step:.01},null,8,["modelValue","step"]),co,a(g,{modelValue:o.contrast,"onUpdate:modelValue":t[2]||(t[2]=p=>o.contrast=p),min:0,max:5,step:.01},null,8,["modelValue","step"])])]),_:1})]),_:1})])]),_:1},512)}var mo=x(to,[["render",uo]]);const po={setup(){const e=b(null),t=b(null);return{provider:e,unload:()=>{e.value.unload()},reload:()=>{e.value.reload()},load:()=>{e.value.load()},imageryProvider:t,onViewerReady:({Cesium:s,viewer:d})=>{t.value=new s.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"});var m=new s.Cartesian3(300770.50872389384,5634912131394585e-9,2.9781522865545116e6),f=new s.Cartesian3(6344.974098678562,-793.3419798081741,2499.9508860763162);d.camera.lookAt(m,f),d.camera.lookAtTransform(s.Matrix4.IDENTITY)}}}},go={class:"demo-toolbar"},fo=_("\u9500\u6BC1"),_o=_("\u52A0\u8F7D"),vo=_("\u91CD\u8F7D");function yo(e,t,r,o,n,i){const s=c("vc-terrain-provider-arcgis"),d=c("vc-viewer"),m=c("el-button"),f=c("el-row");return I(),w(f,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(d,{onReady:o.onViewerReady,imageryProvider:o.imageryProvider},{default:l(()=>[a(s,{ref:"provider"},null,512)]),_:1},8,["onReady","imageryProvider"]),A("div",go,[a(f,null,{default:l(()=>[a(m,{type:"danger",round:"",onClick:o.unload},{default:l(()=>[fo]),_:1},8,["onClick"]),a(m,{type:"danger",round:"",onClick:o.load},{default:l(()=>[_o]),_:1},8,["onClick"]),a(m,{type:"danger",round:"",onClick:o.reload},{default:l(()=>[vo]),_:1},8,["onClick"])]),_:1})])]),_:1},512)}var ho=x(po,[["render",yo]]);const Mo={setup(){const e=b(!0),t=b(null),r=p=>{console.log(p)},o=()=>{t.value.unload()},n=()=>{t.value.reload()},i=()=>{t.value.load()},s=({Cesium:p,viewer:v,cesiumObject:M})=>{v.camera.flyHome(0)},d=[{id:"document",name:"CZML Geometries: Polyline",version:"1.0"},{id:"redLine",name:"Red line clamped to terain",polyline:{positions:{cartographicDegrees:[-75,35,0,-125,35,0]},material:{solidColor:{color:{rgba:[255,0,0,255]}}},width:5,clampToGround:!0}},{id:"blueLine",name:"Glowing blue line on the surface",polyline:{positions:{cartographicDegrees:[-75,37,0,-125,37,0]},material:{polylineGlow:{color:{rgba:[0,0,255,255]},glowPower:.2}},width:10}},{id:"orangeLine",name:"Orange line with black outline at height and following the surface",polyline:{positions:{cartographicDegrees:[-75,39,25e4,-125,39,25e4]},material:{polylineOutline:{color:{rgba:[255,165,0,255]},outlineColor:{rgba:[0,0,0,255]},outlineWidth:2}},width:5}},{id:"purpleLine",name:"Purple arrow at height",polyline:{positions:{cartographicDegrees:[-75,43,5e5,-125,43,5e5]},material:{polylineArrow:{color:{rgba:[148,0,211,255]}}},followSurface:!1,width:10}},{id:"dashedLine",name:"Blue dashed line",polyline:{positions:{cartographicDegrees:[-75,45,5e5,-125,45,5e5]},material:{polylineDash:{color:{rgba:[0,255,255,255]}}},width:4}}],m={description:"Hello VueCesium",position1:{lng:105,lat:40,height:3e5},dimensions1:{x:4e5,y:3e5,z:5e5},material1:"BLUE",position2:{lng:110,lat:40,height:3e5},dimensions2:{x:4e5,y:3e5,z:5e5},material2:"RED",outlineColor2:"BLACK",position3:{lng:100,lat:40,height:3e5},dimensions3:{x:4e5,y:3e5,z:5e5},outlineColor3:"YELLOW"},f=b(null),u=b(null),g=b(null),y=p=>{console.log(p)};return V(()=>{}),{czml:d,unload:o,reload:n,load:i,show:e,onClicked:r,onDatasourceReady:s,datasourceRef:t,onEntityEvt:y,entity1:f,entity2:u,entity3:g,options:m}}},bo=_("\u9500\u6BC1"),Io=_("\u52A0\u8F7D"),wo=_("\u91CD\u8F7D");function Co(e,t,r,o,n,i){const s=c("vc-datasource-czml",!0),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-graphics-box"),u=c("vc-entity"),g=c("vc-viewer"),y=c("el-button"),p=c("el-switch"),v=c("el-row");return I(),w(v,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(g,{shouldAnimate:""},{default:l(()=>[a(s,{ref:"datasourceRef",czml:"https://zouyaoji.top/vue-cesium/SampleData/simple.czml",onReady:o.onDatasourceReady,show:o.show,onClick:o.onClicked},null,8,["onReady","show","onClick"]),a(s,{czml:o.czml},null,8,["czml"]),a(m,{"sort-order":20},{default:l(()=>[a(d,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(m,{"sort-order":10},{default:l(()=>[a(d,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(u,{ref:"entity1",position:o.options.position1,description:o.options.description,onClick:o.onEntityEvt,onMouseover:o.onEntityEvt,onMouseout:o.onEntityEvt},{default:l(()=>[a(f,{dimensions:o.options.dimensions1,material:o.options.material1},null,8,["dimensions","material"])]),_:1},8,["position","description","onClick","onMouseover","onMouseout"]),a(u,{ref:"entity2",position:o.options.position2,description:o.options.description},{default:l(()=>[a(f,{dimensions:o.options.dimensions2,material:o.options.material2,"outline-color":o.options.outlineColor2,outline:!0},null,8,["dimensions","material","outline-color"])]),_:1},8,["position","description"]),a(u,{ref:"entity3",position:o.options.position3,description:o.options.description},{default:l(()=>[a(f,{dimensions:o.options.dimensions3,"outline-color":o.options.outlineColor3,fill:!1,outline:!0},null,8,["dimensions","outline-color"])]),_:1},8,["position","description"])]),_:1}),a(v,{class:"demo-toolbar"},{default:l(()=>[a(y,{type:"danger",round:"",onClick:o.unload},{default:l(()=>[bo]),_:1},8,["onClick"]),a(y,{type:"danger",round:"",onClick:o.load},{default:l(()=>[Io]),_:1},8,["onClick"]),a(y,{type:"danger",round:"",onClick:o.reload},{default:l(()=>[wo]),_:1},8,["onClick"]),a(p,{modelValue:o.show,"onUpdate:modelValue":t[0]||(t[0]=M=>o.show=M),"active-color":"#13ce66","inactive-text":"\u663E\u793A/\u9690\u85CF"},null,8,["modelValue"])]),_:1})]),_:1},512)}var To=x(Mo,[["render",Co]]);const Do={setup(){const e="https://zouyaoji.top/vue-cesium/SampleData/models/GroundVehicle/GroundVehicle.glb",t=n=>{console.log(n)},r=n=>{console.log("viewer ready")},o=b(null);return V(()=>{o.value.creatingPromise.then(({Cesium:n,viewer:i,cesiumObject:s})=>{i.zoomTo(s._vcParent)})}),{onEntityEvt:t,onViewerReady:r,model:o,modelUrl:e}}};function xo(e,t,r,o,n,i){const s=c("vc-imagery-provider-tianditu"),d=c("vc-layer-imagery"),m=c("vc-graphics-model",!0),f=c("vc-entity"),u=c("vc-viewer"),g=c("el-row");return I(),w(g,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(u,{onReady:o.onViewerReady},{default:l(()=>[a(d,{"sort-order":20},{default:l(()=>[a(s,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(d,{"sort-order":20,alpha:1,brightness:1,contrast:1,sortOrder:20},{default:l(()=>[a(s,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17})]),_:1}),a(f,{position:[114,40,1],description:"Hello VueCesium",onClick:o.onEntityEvt,onMouseover:o.onEntityEvt,onMouseout:o.onEntityEvt},{default:l(()=>[a(m,{ref:"model",uri:o.modelUrl,scale:10},null,8,["uri"])]),_:1},8,["position","onClick","onMouseover","onMouseout"])]),_:1},8,["onReady"])]),_:1},512)}var jo=x(Do,[["render",xo]]);const No={data(){return{animation:!0,timeline:!0,fullscreenButton:!0,fullscreenElement:document.body,point:{pixelSize:28,color:"red"},label:{text:"Hello World",pixelOffset:[0,150]},billboard:{},offset:[10,25],otherOpts:{offset:[0,32],position:"bottom-right"},cesiumPath:"https://earthsdk.com/v/last/XbsjEarth/XbsjEarth.js"}},mounted(){this.$refs.vcViewer.creatingPromise.then(({Cesium:e,viewer:t})=>{console.log("viewer is loaded.")})},methods:{onViewerReady({Cesium:e,viewer:t,earth:r}){console.log(r,"echart"),re(r)},onNavigationEvt(e){console.log(e)},onEntityClick(e){console.log(e)},onLeftClick(e){console.log(e)},load(){this.$refs.vcViewer.load().then(e=>{console.log(e)})},unload(){this.$refs.vcViewer.unload().then(e=>{console.log(e)})},reload(){this.$refs.vcViewer.reload().then(e=>{console.log(e)})}}},ko=_("\u9500\u6BC1"),Ao=_("\u52A0\u8F7D"),So=_("\u91CD\u8F7D");function Eo(e,t,r,o,n,i){const s=c("vc-navigation"),d=c("vc-graphics-billboard"),m=c("vc-graphics-rectangle"),f=c("vc-entity"),u=c("vc-imagery-provider-tianditu"),g=c("vc-layer-imagery"),y=c("vc-viewer"),p=c("el-button"),v=c("el-row");return I(),w(v,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(y,{ref:"vcViewer","cesium-path":n.cesiumPath,animation:n.animation,timeline:n.timeline,"fullscreen-button":n.fullscreenButton,"fullscreen-element":n.fullscreenElement,onReady:i.onViewerReady,onLeftClick:i.onLeftClick},{default:l(()=>[a(s,{offset:n.offset,onCompassEvt:i.onNavigationEvt,otherOpts:n.otherOpts,onZoomEvt:i.onNavigationEvt},null,8,["offset","onCompassEvt","otherOpts","onZoomEvt"]),a(f,{billboard:n.billboard,"onUpdate:billboard":t[0]||(t[0]=M=>n.billboard=M),ref:"entity",onClick:i.onEntityClick,position:{lng:108,lat:32},point:n.point,label:n.label},{default:l(()=>[a(d,{ref:"billboard",image:"https://zouyaoji.top/vue-cesium/favicon.png"},null,512),a(m,{coordinates:[130,20,80,25],material:"green"})]),_:1},8,["billboard","onClick","point","label"]),a(g,{"sort-order":20},{default:l(()=>[a(u,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(g,{"sort-order":10},{default:l(()=>[a(u,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["cesium-path","animation","timeline","fullscreen-button","fullscreen-element","onReady","onLeftClick"]),a(v,{class:"demo-toolbar"},{default:l(()=>[a(v,null,{default:l(()=>[a(p,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[ko]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:i.load},{default:l(()=>[Ao]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[So]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)}var Lo=x(No,[["render",Eo]]);const Oo={data(){return{animation:!0,timeline:!0,fullscreenButton:!0,fullscreenElement:document.body,point:{pixelSize:28,color:"red"},label:{text:"Hello World",pixelOffset:[0,150]},billboard:{},offset:[10,25],otherOpts:{offset:[0,32],position:"bottom-right"},cesiumPath:"https://www.supermapol.com/earth/Build/Cesium/Cesium.js"}},mounted(){this.$refs.vcViewer.creatingPromise.then(({Cesium:e,viewer:t})=>{console.log("viewer is loaded.")})},methods:{onViewerReady({Cesium:e,viewer:t}){t.scene.open("https://www.supermapol.com/realspace/services/3D-CBD/rest/realspace"),console.log(t)},onNavigationEvt(e){console.log(e)},onEntityClick(e){console.log(e)},onLeftClick(e){console.log(e)},load(){this.$refs.vcViewer.load().then(e=>{console.log(e)})},unload(){this.$refs.vcViewer.unload().then(e=>{console.log(e)})},reload(){this.$refs.vcViewer.reload().then(e=>{console.log(e)})}}},zo=_("\u9500\u6BC1"),Ro=_("\u52A0\u8F7D"),Po=_("\u91CD\u8F7D");function Vo(e,t,r,o,n,i){const s=c("vc-navigation"),d=c("vc-graphics-billboard"),m=c("vc-graphics-rectangle"),f=c("vc-entity"),u=c("vc-imagery-provider-tianditu"),g=c("vc-layer-imagery"),y=c("vc-viewer"),p=c("el-button"),v=c("el-row");return I(),w(v,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(y,{ref:"vcViewer","cesium-path":n.cesiumPath,animation:n.animation,timeline:n.timeline,fullscreenButton:n.fullscreenButton,"fullscreen-element":n.fullscreenElement,onReady:i.onViewerReady,onLeftClick:i.onLeftClick},{default:l(()=>[a(s,{offset:n.offset,onCompassEvt:i.onNavigationEvt,otherOpts:n.otherOpts,onZoomEvt:i.onNavigationEvt},null,8,["offset","onCompassEvt","otherOpts","onZoomEvt"]),a(f,{billboard:n.billboard,"onUpdate:billboard":t[0]||(t[0]=M=>n.billboard=M),ref:"entity",onClick:i.onEntityClick,position:{lng:108,lat:32},point:n.point,label:n.label},{default:l(()=>[a(d,{ref:"billboard",image:"https://zouyaoji.top/vue-cesium/favicon.png"},null,512),a(m,{coordinates:[130,20,80,25],material:"green"})]),_:1},8,["billboard","onClick","point","label"]),a(g,{"sort-order":20},{default:l(()=>[a(u,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(g,{"sort-order":10},{default:l(()=>[a(u,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["cesium-path","animation","timeline","fullscreenButton","fullscreen-element","onReady","onLeftClick"]),a(v,{class:"demo-toolbar"},{default:l(()=>[a(v,null,{default:l(()=>[a(p,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[zo]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:i.load},{default:l(()=>[Ro]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[Po]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)}var Zo=x(Oo,[["render",Vo]]);const Go={data(){return{options1:{position:[117.217124,31.809777],radius:1500,interval:1500,color:[255,255,0,255]},options2:{position:[117.257124,31.809777],radius:1500,interval:1500,color:[255,0,0,255]}}},methods:{onViewerReady({viewer:e}){window.viewer=e,e.scene.globe.depthTestAgainstTerrain=!0,e.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(117.237124,31.809777,1e4),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-90),roll:0},duration:3})},unload(){this.$refs.circle.unload(),this.$refs.radar.unload()},load(){this.$refs.circle.load(),this.$refs.radar.load()},reload(){this.$refs.circle.reload(),this.$refs.radar.reload()}}},Yo=_("\u9500\u6BC1"),Wo=_("\u52A0\u8F7D"),Uo=_("\u91CD\u8F7D");function Ho(e,t,r,o,n,i){const s=c("vc-post-process-stage-scan"),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-viewer"),u=c("el-button"),g=c("el-row");return I(),w(g,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(f,{onReady:i.onViewerReady},{default:l(()=>[a(s,{ref:"radar",type:"radar",options:n.options1},null,8,["options"]),a(s,{ref:"circle",type:"circle",options:n.options2},null,8,["options"]),a(m,{"sort-order":20},{default:l(()=>[a(d,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(m,{"sort-order":10},{default:l(()=>[a(d,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["onReady"]),a(g,{class:"demo-toolbar"},{default:l(()=>[a(u,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[Yo]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.load},{default:l(()=>[Wo]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[Uo]),_:1},8,["onClick"])]),_:1})]),_:1},512)}var Bo=x(Go,[["render",Ho]]);const Fo={setup(){const e=b(null),t=b(null),r=b(null),o=b(null),n=b(null),i=b(!0),s=b(null),d=b(null),m=p=>{console.log(p)},f=()=>{e.value.unload(),t.value.unload()},u=()=>{e.value.reload(),t.value.reload()},g=()=>{e.value.load(),t.value.load()},y=({Cesium:p,viewer:v})=>{console.log("onViewerReady");const{ColorGeometryInstanceAttribute:M,PerInstanceColorAppearance:h,Matrix4:D,Cartesian3:T,PerspectiveFrustum:N}=p;o.value={color:new M(Math.random(),Math.random(),Math.random(),.5)},n.value={color:new M(Math.random(),Math.random(),Math.random())},r.value=new h({flat:!0}),d.value=h.VERTEX_FORMAT,s.value=new N({fov:p.Math.toRadians(30),aspectRatio:1920/1080,near:1,far:5e5})};return V(()=>{Promise.all([e.value.creatingPromise,t.value.creatingPromise]).then(p=>{const{BoundingSphere:v}=Cesium,M=p.reduce((h,D)=>{const T=D.cesiumObject.constructor.createGeometry(D.cesiumObject),N=D.vm.proxy.$parent.modelMatrix?v.transform(T.boundingSphere,D.vm.proxy.$parent.modelMatrix):T.boundingSphere;return h===null?N:v.union(h,N)},null);p[0].viewer.scene.camera.flyToBoundingSphere(M),console.log("All geometries are loaded.")})}),{unload:f,reload:u,load:g,onClicked:m,onViewerReady:y,geometryRef:e,geometryOutlineRef:t,appearance:r,attributes:o,attributesOutline:n,outline:i,frustum:s,vertexFormat:d}}},Qo=_("\u9500\u6BC1"),Jo=_("\u52A0\u8F7D"),Xo=_("\u91CD\u8F7D");function Ko(e,t,r,o,n,i){const s=c("vc-geometry-frustum"),d=c("vc-geometry-instance"),m=c("vc-primitive"),f=c("vc-geometry-frustum-outline"),u=c("vc-imagery-provider-tianditu"),g=c("vc-layer-imagery"),y=c("vc-viewer"),p=c("el-button"),v=c("el-switch"),M=c("el-row");return I(),w(M,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(y,{onReady:o.onViewerReady},{default:l(()=>[a(m,{appearance:o.appearance,onClick:o.onClicked},{default:l(()=>[a(d,{attributes:o.attributes},{default:l(()=>[a(s,{ref:"geometryRef",frustum:o.frustum,origin:{lng:105,lat:35},orientation:{x:0,y:0,z:0,w:5},vertexFormat:o.vertexFormat},null,8,["frustum","vertexFormat"])]),_:1},8,["attributes"])]),_:1},8,["appearance","onClick"]),o.outline?(I(),w(m,{key:0,appearance:o.appearance,onClick:o.onClicked},{default:l(()=>[a(d,{attributes:o.attributesOutline},{default:l(()=>[a(f,{ref:"geometryOutlineRef",frustum:o.frustum,origin:{lng:105,lat:35},orientation:{x:0,y:0,z:0,w:5}},null,8,["frustum"])]),_:1},8,["attributes"])]),_:1},8,["appearance","onClick"])):P("",!0),a(g,{"sort-order":20,alpha:1,brightness:1,contrast:1,sortOrder:20},{default:l(()=>[a(u,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17})]),_:1})]),_:1},8,["onReady"]),a(M,{class:"demo-toolbar"},{default:l(()=>[a(p,{type:"danger",round:"",onClick:o.unload},{default:l(()=>[Qo]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:o.load},{default:l(()=>[Jo]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:o.reload},{default:l(()=>[Xo]),_:1},8,["onClick"]),a(v,{modelValue:o.outline,"onUpdate:modelValue":t[0]||(t[0]=h=>o.outline=h),"active-color":"#13ce66","inactive-text":"\u8FB9\u6846"},null,8,["modelValue"])]),_:1})]),_:1},512)}var qo=x(Fo,[["render",Ko]]);function $o(e,t){e.Math.setRandomNumberSeed(1234);const r=t.entities;let o,n,i;const s=new e.StripeMaterialProperty({evenColor:e.Color.WHITE.withAlpha(.5),oddColor:e.Color.BLUE.withAlpha(.5),repeat:5});for(r.add({rectangle:{coordinates:e.Rectangle.fromDegrees(-92,20,-86,27),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,stRotation:e.Math.toRadians(45),material:s}}),r.add({position:e.Cartesian3.fromDegrees(-80,25),ellipse:{semiMinorAxis:3e5,semiMajorAxis:5e5,rotation:e.Math.toRadians(-40),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,stRotation:e.Math.toRadians(22),material:s}}),r.add({position:e.Cartesian3.fromDegrees(-72,25),ellipse:{semiMinorAxis:25e4,semiMajorAxis:25e4,rotation:e.Math.toRadians(-40),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,stRotation:e.Math.toRadians(90),material:s}}),r.add({rectangle:{coordinates:e.Rectangle.fromDegrees(-118,38,-116,40),extrudedHeight:5e5,outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,stRotation:e.Math.toRadians(45),material:e.Color.fromRandom({alpha:1})}}),r.add({position:e.Cartesian3.fromDegrees(-117,35),ellipse:{semiMinorAxis:1e5,semiMajorAxis:2e5,height:1e5,extrudedHeight:2e5,rotation:e.Math.toRadians(90),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,material:e.Color.fromRandom({alpha:1})}}),r.add({polygon:{hierarchy:new e.PolygonHierarchy(e.Cartesian3.fromDegreesArray([-118,30,-115,30,-117.1,31.1,-118,33])),height:3e5,extrudedHeight:7e5,outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,material:e.Color.fromRandom({alpha:1})}}),r.add({position:e.Cartesian3.fromDegrees(-70,45,1e5),cylinder:{hierarchy:new e.PolygonHierarchy(e.Cartesian3.fromDegreesArray([-118,30,-115,30,-117.1,31.1,-118,33])),length:2e5,topRadius:15e4,bottomRadius:15e4,outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,material:e.Color.fromRandom({alpha:1})}}),o=0;o<5;++o)n=1e5+2e5*o,r.add({position:e.Cartesian3.fromDegrees(-106,45,n),box:{dimensions:new e.Cartesian3(9e4,9e4,9e4),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:2,material:e.Color.fromRandom({alpha:.5})}}),r.add({position:e.Cartesian3.fromDegrees(-102,45,n),ellipsoid:{radii:new e.Cartesian3(45e3,45e3,9e4),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:2,material:e.Color.fromRandom({alpha:.5})}}),r.add({position:e.Cartesian3.fromDegrees(-98,45,n),ellipsoid:{radii:new e.Cartesian3(67500,67500,67500),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:2,material:e.Color.fromRandom({alpha:.5})}});for(r.add({wall:{positions:e.Cartesian3.fromDegreesArray([-95,50,-85,50,-75,50]),maximumHeights:[5e5,1e6,5e5],minimumHeights:[0,5e5,0],outline:!0,outlineColor:e.Color.LIGHTGRAY,outlineWidth:4,material:e.Color.fromRandom({alpha:.7})}}),r.add({rectangle:{coordinates:e.Rectangle.fromDegrees(-92,30,-85,40),material:s}}),r.add({polygon:{hierarchy:{positions:e.Cartesian3.fromDegreesArray([-109,30,-95,30,-95,40,-109,40]),holes:[{positions:e.Cartesian3.fromDegreesArray([-107,31,-107,39,-97,39,-97,31]),holes:[{positions:e.Cartesian3.fromDegreesArray([-105,33,-99,33,-99,37,-105,37]),holes:[{positions:e.Cartesian3.fromDegreesArray([-103,34,-101,34,-101,36,-103,36])}]}]}]},material:s}}),r.add({position:e.Cartesian3.fromDegrees(-80,35),ellipse:{semiMinorAxis:2e5,semiMajorAxis:5e5,rotation:e.Math.toRadians(30),material:s}}),r.add({position:e.Cartesian3.fromDegrees(-72,35),ellipse:{semiMinorAxis:2e5,semiMajorAxis:2e5,rotation:e.Math.toRadians(30),material:s}}),r.add({rectangle:{coordinates:e.Rectangle.fromDegrees(-110,38,-107,40),height:7e5,extrudedHeight:1e6,rotation:e.Math.toRadians(45),material:e.Color.fromRandom({alpha:1})}}),r.add({position:e.Cartesian3.fromDegrees(-110,35),ellipse:{semiMinorAxis:1e5,semiMajorAxis:2e5,height:3e5,extrudedHeight:7e5,rotation:e.Math.toRadians(-40),material:e.Color.fromRandom({alpha:1})}}),r.add({polygon:{hierarchy:new e.PolygonHierarchy(e.Cartesian3.fromDegreesArray([-113,30,-110,30,-110,33,-111.5,31,-113,33])),extrudedHeight:3e5,material:e.Color.fromRandom({alpha:1})}}),r.add({position:e.Cartesian3.fromDegrees(-70,40,2e5),cylinder:{hierarchy:new e.PolygonHierarchy(e.Cartesian3.fromDegreesArray([-118,30,-115,30,-117.1,31.1,-118,33])),length:4e5,topRadius:0,bottomRadius:2e5,material:e.Color.fromRandom({alpha:1})}}),o=0;o<5;++o)n=2e5*o,r.add({position:e.Cartesian3.fromDegrees(-65,35),ellipse:{semiMinorAxis:2e5,semiMajorAxis:2e5,height:n,material:e.Color.fromRandom({alpha:.5})}}),r.add({rectangle:{coordinates:e.Rectangle.fromDegrees(-67,27,-63,32),height:n,material:e.Color.fromRandom({alpha:.5})}});for(o=0;o<5;++o)n=1e5+2e5*o,r.add({position:e.Cartesian3.fromDegrees(-108,45,n),box:{dimensions:new e.Cartesian3(9e4,9e4,9e4),material:e.Color.fromRandom({alpha:1})}}),r.add({position:e.Cartesian3.fromDegrees(-104,45,n),ellipsoid:{radii:new e.Cartesian3(45e3,45e3,9e4),material:e.Color.fromRandom({alpha:1})}}),r.add({position:e.Cartesian3.fromDegrees(-100,45,n),ellipsoid:{radii:new e.Cartesian3(67500,67500,67500),material:e.Color.fromRandom({alpha:1})}});for(i=[],o=0;o<40;++o)i.push(e.Cartesian3.fromDegrees(-100+o,15));for(r.add({polyline:{positions:i,width:10,material:new e.PolylineGlowMaterialProperty({color:e.Color.DEEPSKYBLUE,glowPower:.25})}}),i=[],o=0;o<40;++o)i.push(e.Cartesian3.fromDegrees(-100+o,9));r.add({wall:{positions:e.Cartesian3.fromDegreesArrayHeights([-90,43,1e5,-87.5,45,1e5,-85,43,1e5,-87.5,41,1e5,-90,43,1e5]),material:new e.CheckerboardMaterialProperty({repeat:new e.Cartesian2(20,6)})}}),r.add({corridor:{positions:e.Cartesian3.fromDegreesArray([-120,45,-125,50,-125,55]),width:1e5,material:e.Color.fromRandom({alpha:1})}}),r.add({corridor:{positions:e.Cartesian3.fromDegreesArray([-120,45,-125,50,-125,55]),width:1e5,height:3e5,extrudedHeight:4e5,material:e.Color.fromRandom({alpha:.7})}}),r.add({corridor:{positions:e.Cartesian3.fromDegreesArray([-120,45,-125,50,-125,55]),width:1e5,height:7e5,outline:!0,outlineColor:e.Color.WHITE,outlineWidth:4,material:e.Color.fromRandom({alpha:.7})}});function d(f,u,g){const y=Math.PI/f,p=[];for(let v=0;v<2*f;v++){const M=v%2===0?u:g,h=new e.Cartesian2(Math.cos(v*y)*M,Math.sin(v*y)*M);p.push(h)}return p}r.add({polylineVolume:{positions:e.Cartesian3.fromDegreesArrayHeights([-102,15,1e5,-105,20,2e5,-110,20,1e5]),shape:d(7,3e4,2e4),outline:!0,outlineColor:e.Color.WHITE,outlineWidth:1,material:e.Color.fromRandom({alpha:1})}}),r.add({polylineVolume:{positions:e.Cartesian3.fromDegreesArray([-102,15,-105,20,-110,20]),shape:d(7,3e4,2e4),material:e.Color.fromRandom({alpha:1})}});function m(f){const u=[];for(let g=0;g<360;g++){const y=e.Math.toRadians(g);u.push(new e.Cartesian2(f*Math.cos(y),f*Math.sin(y)))}return u}r.add({polylineVolume:{positions:e.Cartesian3.fromDegreesArray([-104,13,-107,18,-112,18]),shape:m(4e4),material:e.Color.WHITE}}),t.zoomTo(t.entities)}const en={data(){return{loading:!0,animation:!0,timeline:!0,baseLayerPicker:!1,fullscreenButton:!0,infoBox:!0,showCredit:!0,fullscreenElement:document.body,point:{pixelSize:28,color:"red"},label:{text:"Hello World",pixelOffset:[0,150]},billboard:{},offset:[50,25],otherOpts:{offset:[0,32],position:"bottom-right"}}},watch:{timeline(e){this.otherOpts.offset=e?[0,30]:this.fullscreenButton?[30,5]:[0,5]},fullscreenButton(e){!this.timeline&&!e?this.otherOpts.offset=[0,5]:!this.timeline&&e&&(this.otherOpts.offset=[30,5])}},mounted(){this.$refs.vcViewer.creatingPromise.then(({Cesium:e,viewer:t})=>{console.log("viewer is loaded.")})},methods:{onViewerReady({Cesium:e,viewer:t}){this.loading=!1,$o(e,t)},onCesiumReady(e){console.log(e)},onNavigationEvt(e){console.log(e)},onEntityClick(e){console.log(e)},onLeftClick(e){console.log(e)},onTouchEnd(e){console.log(e)},load(){this.$refs.vcViewer.load().then(e=>{console.log(e),this.loading=!1})},unload(){this.$refs.vcViewer.unload().then(e=>{console.log(e),this.loading=!0})},reload(){this.loading=!0,this.$refs.vcViewer.reload().then(e=>{console.log(e),this.loading=!1})}}},tn=_("\u9500\u6BC1"),on=_("\u52A0\u8F7D"),nn=_("\u91CD\u8F7D");function an(e,t,r,o,n,i){const s=c("vc-navigation"),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-viewer"),u=c("el-button"),g=c("el-row");return I(),w(g,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(f,{ref:"vcViewer",animation:n.animation,"base-layer-picker":n.baseLayerPicker,timeline:n.timeline,"fullscreen-button":n.fullscreenButton,"fullscreen-element":n.fullscreenElement,"info-box":n.infoBox,skyAtmosphere:!1,skyBox:!1,"scene-mode-picker":!0,"show-credit":n.showCredit,onCesiumReady:i.onCesiumReady,onReady:i.onViewerReady,onLeftClick:i.onLeftClick,onTouchEnd:i.onTouchEnd},{default:l(()=>[a(s,{offset:n.offset,onCompassEvt:i.onNavigationEvt,"other-opts":n.otherOpts,onZoomEvt:i.onNavigationEvt},null,8,["offset","onCompassEvt","other-opts","onZoomEvt"]),a(m,{"sort-order":20,alpha:1,brightness:1,contrast:1,sortOrder:20},{default:l(()=>[a(d,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17})]),_:1})]),_:1},8,["animation","base-layer-picker","timeline","fullscreen-button","fullscreen-element","info-box","show-credit","onCesiumReady","onReady","onLeftClick","onTouchEnd"]),a(g,{class:"demo-toolbar"},{default:l(()=>[a(g,null,{default:l(()=>[a(u,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[tn]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.load},{default:l(()=>[on]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[nn]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)}var rn=x(en,[["render",an]]);const ln={setup(){const e=[50,150],t=b({}),r=b([]),o=b(null),n=b(null),i=b(null),s=b(null);let d;const m=p=>{console.log(p)},f=({Cesium:p,viewer:v})=>{console.log("viewer ready"),d=v,v.entities.add({name:"Red box with black outline",position:p.Cartesian3.fromDegrees(-107,40,1e4),box:{dimensions:new p.Cartesian3(4e4,3e4,5e4),material:p.Color.RED.withAlpha(.5),outline:!1,outlineColor:p.Color(0,0,0,.4)}})},u=()=>{d.trackedEntity=void 0,d.zoomTo(d.entities,new Cesium.HeadingPitchRange(0,Cesium.Math.toRadians(-90)))},g=()=>{d.trackedEntity=void 0,d.zoomTo(d.entities,new Cesium.HeadingPitchRange(Cesium.Math.toRadians(-90),Cesium.Math.toRadians(-15),7500))},y=()=>{d.trackedEntity=s.value.getCesiumObject()};return V(()=>{o.value.creatingPromise.then(({Cesium:p,viewer:v})=>{v.zoomTo(v.entities)})}),{offset:e,onEntityEvt:m,onViewerReady:f,model:o,entity:s,positions:r,orientation:i,availability:n,position:t,viewTopDown:u,viewSide:g,viewAircraft:y}}},sn=_("\u4FEF\u89C6"),cn=_("\u4FA7\u89C6"),dn=_("\u8DDF\u968F");function un(e,t,r,o,n,i){const s=c("vc-navigation"),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-viewer"),u=c("el-button"),g=c("el-row");return I(),w(g,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(f,{shouldAnimate:!0,animation:!0,timeline:!0,"scene-mode-picker":!0,"show-credit":!0,"base-layer-picker":!0,onReady:o.onViewerReady},{default:l(()=>[a(s,{offset:o.offset},null,8,["offset"]),a(m,{"sort-order":20,alpha:1,brightness:1,contrast:1,sortOrder:20},{default:l(()=>[a(d,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17})]),_:1})]),_:1},8,["onReady"]),a(g,{class:"demo-toolbar"},{default:l(()=>[a(u,{type:"danger",round:"",onClick:o.viewTopDown},{default:l(()=>[sn]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:o.viewSide},{default:l(()=>[cn]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:o.viewAircraft},{default:l(()=>[dn]),_:1},8,["onClick"])]),_:1})]),_:1},512)}var mn=x(ln,[["render",un]]);const pn={data(){return{animation:!0,timeline:!0,fullscreenButton:!0,fullscreenElement:document.body,point:{pixelSize:28,color:"red"},label:{text:"Hello World",pixelOffset:[0,150]},billboard:{},offset:[10,25],otherOpts:{offset:[0,32],position:"bottom-right"},cesiumPath:"https://www.supermapol.com/earth/Build/Cesium/Cesium.js"}},mounted(){this.$refs.vcViewer.creatingPromise.then(({Cesium:e,viewer:t})=>{console.log("viewer is loaded.")})},methods:{onViewerReady({Cesium:e,viewer:t}){t.scene.open("https://www.supermapol.com/realspace/services/3D-CBD/rest/realspace"),console.log(t)},onNavigationEvt(e){console.log(e)},onEntityClick(e){console.log(e)},onLeftClick(e){console.log(e)},load(){this.$refs.vcViewer.load().then(e=>{console.log(e)})},unload(){this.$refs.vcViewer.unload().then(e=>{console.log(e)})},reload(){this.$refs.vcViewer.reload().then(e=>{console.log(e)})}}},gn=_("\u9500\u6BC1"),fn=_("\u52A0\u8F7D"),_n=_("\u91CD\u8F7D");function vn(e,t,r,o,n,i){const s=c("vc-navigation"),d=c("vc-graphics-billboard"),m=c("vc-graphics-rectangle"),f=c("vc-entity"),u=c("vc-imagery-provider-tianditu"),g=c("vc-layer-imagery"),y=c("vc-viewer"),p=c("el-button"),v=c("el-row");return I(),w(v,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(y,{ref:"vcViewer","cesium-path":n.cesiumPath,animation:n.animation,timeline:n.timeline,fullscreenButton:n.fullscreenButton,"fullscreen-element":n.fullscreenElement,onReady:i.onViewerReady,onLeftClick:i.onLeftClick},{default:l(()=>[a(s,{offset:n.offset,onCompassEvt:i.onNavigationEvt,otherOpts:n.otherOpts,onZoomEvt:i.onNavigationEvt},null,8,["offset","onCompassEvt","otherOpts","onZoomEvt"]),a(f,{billboard:n.billboard,"onUpdate:billboard":t[0]||(t[0]=M=>n.billboard=M),ref:"entity",onClick:i.onEntityClick,position:{lng:108,lat:32},point:n.point,label:n.label},{default:l(()=>[a(d,{ref:"billboard",image:"https://zouyaoji.top/vue-cesium/favicon.png"},null,512),a(m,{coordinates:[130,20,80,25],material:"green"})]),_:1},8,["billboard","onClick","point","label"]),a(g,{"sort-order":20},{default:l(()=>[a(u,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1}),a(g,{"sort-order":10},{default:l(()=>[a(u,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["cesium-path","animation","timeline","fullscreenButton","fullscreen-element","onReady","onLeftClick"]),a(v,{class:"demo-toolbar"},{default:l(()=>[a(v,null,{default:l(()=>[a(p,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[gn]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:i.load},{default:l(()=>[fn]),_:1},8,["onClick"]),a(p,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[_n]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)}var yn=x(pn,[["render",vn]]);function hn(e){var t=e.scene,r=4e3,o=Cesium.Cartesian3.fromDegrees(118.124512,38.296794),n=Cesium.Cartesian3.fromDegrees(118.124512,38.296794,r*.5),i=Cesium.Cartesian3.fromDegrees(118.124512,38.296794,r),s=Cesium.Matrix4.multiplyByTranslation(Cesium.Transforms.eastNorthUpToFixedFrame(o),new Cesium.Cartesian3(0,0,r*.5),new Cesium.Matrix4);e.camera.flyToBoundingSphere(new Cesium.BoundingSphere(n,r));var d="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjgzLjIzIiBoZWlnaHQ9IjIwNi42NiIgZmlsbC1ydWxlPSJldmVub2RkIiB2aWV3Qm94PSIwIDAgODUwMCAxMTAwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiA8ZGVmcz4KICA8bGluZWFyR3JhZGllbnQgaWQ9ImIiPgogICA8c3RvcCBvZmZzZXQ9IjAiLz4KICAgPHN0b3Agc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxsaW5lYXJHcmFkaWVudCBpZD0iaCIgeDE9IjQ2NjEiIHgyPSI0MzcxLjkiIHkxPSIyMTYxLjIiIHkyPSIyMzk1LjYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgPHN0b3Agc3RvcC1jb2xvcj0iIzQ1NDU4NSIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiNiYWJhZmQiIG9mZnNldD0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJpIiB4MT0iNDY2OS45IiB4Mj0iNDU0My42IiB5MT0iMjI5Ny4xIiB5Mj0iMjU1Ni4xIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiMzYTNhNjMiIG9mZnNldD0iMCIvPgogICA8c3RvcCBzdG9wLWNvbG9yPSIjYmFiYWZkIiBvZmZzZXQ9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxsaW5lYXJHcmFkaWVudCBpZD0iayIgeDE9IjU0MDguMiIgeDI9IjU0ODIuNiIgeTE9IjM1ODkuNSIgeTI9IjM5NjAuNSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCguMDU0OTA3IC45MzYwMiAuOTM2OTEgLjA3MjA4MyAxNzcuNDMgLTI3MTkpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiNkOWQ5ZDkiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiNmZmYiIG9mZnNldD0iLjYyOTYzIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiNlOWU5ZTkiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8bGluZWFyR3JhZGllbnQgaWQ9ImwiIHgxPSI1MzE5LjMiIHgyPSI1MzcxLjIiIHkxPSIzNTA4LjEiIHkyPSIzNTY5LjgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLjE1Mzg2IC45NDkxOCAxLjAyNDMgLjI3MjUzIC02NzIuMzcgLTM1MjUuMSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgPHN0b3Agb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiNmZmYiIG9mZnNldD0iLjUiLz4KICAgPHN0b3Agc3RvcC1jb2xvcj0iIzBkMDAwMCIgb2Zmc2V0PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8bGluZWFyR3JhZGllbnQgaWQ9ImEiPgogICA8c3RvcCBvZmZzZXQ9IjAiLz4KICAgPHN0b3Agc3RvcC1jb2xvcj0iI2ExYTFhMSIgb2Zmc2V0PSIuNSIvPgogICA8c3RvcCBvZmZzZXQ9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxsaW5lYXJHcmFkaWVudCBpZD0iZiIgeDE9IjQ2NTguOSIgeDI9IjQ0OTcuOCIgeTE9IjIyODguNSIgeTI9IjI2MzMuNyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBzdG9wLWNvbG9yPSIjNDU0NTg1IiBvZmZzZXQ9IjAiLz4KICAgPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZiIgb2Zmc2V0PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSI1MDY0LjEiIHgyPSI0NzU5LjYiIHkxPSIyMzE4LjkiIHkyPSIyNjA1LjkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgPHN0b3Agc3RvcC1jb2xvcj0iIzUxNTE5YyIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiNmM2YzZjkiIG9mZnNldD0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJqIiB4MT0iNDY3My4yIiB4Mj0iNDc4Ni40IiB5MT0iMTYyNy4xIiB5Mj0iMTg2NS42IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCIvPgogICA8c3RvcCBzdG9wLWNvbG9yPSIjZmZmYmZiIiBvZmZzZXQ9Ii4yNDA3NCIvPgogICA8c3RvcCBvZmZzZXQ9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxsaW5lYXJHcmFkaWVudCBpZD0ibSIgeDI9IjAiIHkxPSI1MjUxLjciIHkyPSI0NTYwLjkiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLjcwNjMyIC43MDc4OSAuNzA3ODkgLS43MDYzMiAtMjQ3Mi41IDMwOTIuMykiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjYiIvPgogIDxsaW5lYXJHcmFkaWVudCBpZD0ibiIgeDE9IjQxNTcuNSIgeDI9IjQwNzkuNiIgeTE9IjE3ODYuOCIgeTI9IjIxNDQuNCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCguOTM5NjIgLjY3ODk3IC0uNjc4OTcgLjkzOTYyIDIyODQuNyAtMjk3NS4yKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHhsaW5rOmhyZWY9IiNiIi8+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJvIiB4MT0iNDg1MS43IiB4Mj0iNDg4Ni4yIiB5MT0iMTgzMS4zIiB5Mj0iMTgwMC44IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC4wNzc0NjcgMS4xNTA2IC0xLjE2NjEgLS4yNzA1OCA2MjQyLjIgLTMyMzIuNCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjYSIvPgogIDxsaW5lYXJHcmFkaWVudCBpZD0icCIgeDE9IjQ4NDUuNSIgeDI9IjQ4NzUuNCIgeTE9IjE4MjkuNSIgeTI9IjE4MDAuMSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtLjAwNDg0NTUgLS42MTExOCAtLjcwMjQ0IC4wMDU1NjkxIDU5MjQuNSA0NjE5LjkpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeGxpbms6aHJlZj0iI2EiLz4KICA8bGluZWFyR3JhZGllbnQgaWQ9InEiIHgxPSI0ODQ1LjUiIHgyPSI0ODc1LjQiIHkxPSIxODI5LjUiIHkyPSIxODAwLjEiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLjg0MjIxIC0uMDU4NTA0IC4wNjcyMzkgLjk2Nzk3IDYwMy42NCAzNjkuNTkpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeGxpbms6aHJlZj0iI2EiLz4KICA8cmFkaWFsR3JhZGllbnQgaWQ9ImMiIGN4PSI1MTAxLjQiIGN5PSIzNzIwIiByPSIzNTMuODIiIGZ4PSI1MDY4LjIiIGZ5PSIzNjUwLjEiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLjI2MjYxIDIuMTE0IDEuNTkzNCAuMDgwODQ2IC0zMzMyLjUgLTg3NjEuNSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgPHN0b3Agc3RvcC1jb2xvcj0iIzA1MDEwMSIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiNmZmYiIG9mZnNldD0iMSIvPgogIDwvcmFkaWFsR3JhZGllbnQ+CiAgPHJhZGlhbEdyYWRpZW50IGlkPSJkIiBjeD0iNTA2My4xIiBjeT0iMzc0Ny41IiByPSIzMjkuMzYiIGZ4PSI1MTMyLjciIGZ5PSIzNjU0LjkiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLS4wNzM5MDMgLS42NzM2NSAtLjU5NTI5IC4wMTE4NTMgNjUxMi41IDU3NDkuOSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgPHN0b3Agc3RvcC1jb2xvcj0iI2M2YzZjNiIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiMxYTFhMWEiIG9mZnNldD0iMSIvPgogIDwvcmFkaWFsR3JhZGllbnQ+CiAgPHJhZGlhbEdyYWRpZW50IGlkPSJlIiBjeD0iMzk3Ny42IiBjeT0iMjQxNS40IiByPSIxMTkuMTUiIGZ4PSIzOTY0LjQiIGZ5PSIyNDYxLjciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEuMjczMSAuNDA1ODcgLS4zNzA3MSAtMS4xNjI4IDEwNTU4IDMwMDAuNCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZiIgb2Zmc2V0PSIwIi8+CiAgIDxzdG9wIHN0b3AtY29sb3I9IiMwNDAwMDAiIG9mZnNldD0iMSIvPgogIDwvcmFkaWFsR3JhZGllbnQ+CiA8L2RlZnM+CiA8ZyB0cmFuc2Zvcm09Im1hdHJpeCg3LjYwNzQgLS4yNTYwNCAuMjU2MDQgNy42MDc0IC0zMzM2MSAtNjY4NC44KSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCguODgzMzMgLjExMDYxIC0uMTY4MzUgLjg3OTQ5IDgyNy4xNCAtMTAxNSkiPgogICA8cGF0aCBkPSJtNDYxMS4yIDI1MDkuOCAyNzYuNTktMTYzLjM0LTQwMi45Mi0yMjAuOTMtMjYzLjA5IDExMS45NyAzODkuNDIgMjcyLjI5eiIgZmlsbD0iIzVlODg5ZCIvPgogICA8cGF0aCBkPSJtNDY0Ny41IDIyMzMuOS0xNjAuNDQtODkuNDM0LTkxLjM4MSA0MS4xMjggMTU1LjQ1IDEwMS4zNSA5Ni4zNy01My4wNDV6bS0zODEuNjMgOS4wMjYgMTYwLjc1IDExMi44NiAxMDYuNDctNTguODI2LTE1Ny4yNC0xMDIuNjYtMTA5Ljk3IDQ4LjYzMXptMjg0LjQgNjUuMTUzLTEwNS4xMiA1OS40MDEgMTY3LjEgMTE2LjA2IDExMC45My02My4yNTQtMTcyLjkxLTExMi4yMXptMTg5LjU5IDEwMS41OSAxMDkuNDktNjMuMjg5LTE4NC4zNS0xMDIuODYtOTYuODY5IDUzLjg1NCAxNzEuNzMgMTEyLjI5eiIgZmlsbD0idXJsKCNoKSIgZmlsbC1ydWxlPSJub256ZXJvIi8+CiAgPC9nPgogIDxnIHRyYW5zZm9ybT0ibWF0cml4KC41NzcyNSAuMjYwNDcgLS41NjE4NSAuODY4MDUgMjkyNC4zIC0xOTY3LjQpIj4KICAgPHBhdGggZD0ibTQ2MTEuMiAyNTA5LjggMjc2LjU5LTE2My4zNC0zNzUuMTktMjE5LjY2Yy05LjQwNjYtNC4zODI5LTE1Ljk4Ni01Ljc0LTI4Ljk1LTMuMTUyOGwtMjQ2LjM4IDEwNy4xMmMtNi4zMjY5IDQuMjM1OC02LjI4MiA5LjcyOTItMi4yMjM4IDE2LjAxNWwzNzYuMTUgMjYzLjAxeiIgZmlsbD0iIzNjNjg3ZSIvPgogICA8cGF0aCBkPSJtNDY1MS4zIDIyMzEuOC0xNTMuMzgtOTIuNjc5LTEwMi4xOSA0Ni41NDYgMTU1LjQ1IDEwMS4zNSAxMDAuMTItNTUuMjJ6bS0zODUuMzkgMTEuMjAxIDE2MC43NSAxMTIuODYgMTA2LjQ3LTU4LjgyNi0xNTcuMjQtMTAyLjY2LTEwOS45NyA0OC42MzF6bTI4NC40IDY1LjE1My0xMDUuMTIgNTkuNDAxIDE2Ny4xIDExNi4wNiAxMTAuOTMtNjMuMjU0LTE3Mi45MS0xMTIuMjF6bTE4OS41OSAxMDEuNTkgMTA5LjQ5LTYzLjI4OS0xODAuNi0xMDUuMDQtMTAwLjYyIDU2LjAyOSAxNzEuNzMgMTEyLjI5eiIgZmlsbD0idXJsKCNpKSIgZmlsbC1ydWxlPSJub256ZXJvIi8+CiAgPC9nPgogIDxwYXRoIGQ9Im00NjA0LjggMTY0Ny44Yy0xNi42MjYtMTUuNzU1LTEuMDcyLTI4LjE5IDEzLjc4Ny0xMy40OGwyOC4xNjQgMjAuOTZjMTcuOTM5IDEwLjgwMi01Ljg0OTUgMjguODE0LTE3LjkwNCAyMy4zMTlsLTI2LjQ3OS0yOS4wMzQgMi40MzIxLTEuNzY1eiIgZmlsbD0idXJsKCNwKSIgZmlsbC1ydWxlPSJub256ZXJvIi8+CiAgPHBhdGggZD0ibTQ2NDAuNSAxOTYwLjVjNTguMjkxLTM0LjY4MiA1MC40MTktMTYwLjkxLTUuODEyMi0yMTMuNzktNDMuOTg2LTQxLjcyLTEwMi4xOC01My4zNy0xNDIuODItMzAuNzA3bDMzNy4xOC0xNDkuM2M0NC42NTQtMjMuNTQyIDExNy42Mi0zMS4yNTIgMTY2LjgxIDIxLjE2NCAzMi4wNTYgMzQuMTU4IDQ3LjM2OCAxMjYuMTYtMTkuNjI5IDE3MC4xNGwtMzM1Ljc0IDIwMi41eiIgZmlsbD0idXJsKCNqKSIvPgogIDxwYXRoIGQ9Im00NDgzLjMgMTcyMi44YzQ0LjQtMzQuODE4IDEwMS43My0yNS4zMjkgMTUwLjI5IDIwLjczIDYwLjU3IDU4LjU3MyA3NS4xMzQgMTg4LjEzLTYuNDUyOCAyMjUuMDUtMTIwLjYxIDU0LjU3Mi0yNDYuNzEtMTY1LjExLTE0My44My0yNDUuNzh6IiBmaWxsPSJ1cmwoI2UpIi8+CiAgPHBhdGggZD0ibTQ2NDAuNSAxOTYwLjVjNTguMjkxLTM0LjY4MiA1MC40MTktMTYwLjkxLTUuODEyMi0yMTMuNzktNDMuOTg2LTQxLjcyLTEwMi4xOC01My4zNy0xNDIuODItMzAuNzA3bDMzNy4xOC0xNDkuM2M0NC42NTQtMjMuNTQyIDExNy42Mi0zMS4yNTIgMTY2LjgxIDIxLjE2NCAzMi4wNTYgMzQuMTU4IDQ3LjM2OCAxMjYuMTYtMTkuNjI5IDE3MC4xNGwtMzM1Ljc0IDIwMi41eiIgZmlsbD0idXJsKCNuKSIgZmlsbC1ydWxlPSJldmVub2RkIi8+CiAgPHBhdGggZD0ibTQ0MzYuMyAxODg0LjhjMjEuMTg0IDkuNjYzNCAyNS42MzMgMjUuNDI3IDM1LjE1NiA1Mi4yMDZsODMuODE3LTQ1LjQyOGMyNS43OTktMjMuNTI4LTYuMDY5Mi03MS4wMDMtMzMuNDY4LTYzLjQ3MmwtODUuNTA2IDU2LjY5NHoiIGZpbGw9InVybCgjbykiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEuMDE5NCAtLjAzODE3OSAtLjAwOTgyNDIgMS4zOTQzIDQwOC45NyAtMTAxMC41KSI+CiAgIDxwYXRoIGQ9Im00NjExLjIgMjUwOS44IDI3Ni41OS0xNjMuMzQtNDAyLjkyLTIyMC45My0yNjMuMDkgMTExLjk3IDM4OS40MiAyNzIuMjl6IiBmaWxsPSIjNWU4ODlkIi8+CiAgIDxwYXRoIGQ9Im00NjU0LjMgMjIzOC4zLTE2Ny4yNS05My43ODktOTEuMzgxIDQxLjEyOCAxNTguODUgMTAzLjEyIDk5Ljc3Ny01MC40NTR6bS0zODguNDQgNC42NzE2IDE2MC43NSAxMTIuODYgMTA4Ljc0LTU1LjQ0MS0xNTkuNTItMTA2LjA1LTEwOS45NyA0OC42MzF6bTI4Ny44MSA2Ni45MTYtMTA4LjUzIDU3LjYzOCAxNjcuMSAxMTYuMDYgMTEwLjkzLTYzLjI1NC0xNjkuNS0xMTAuNDR6bTE4Ni4xOSA5OS44MjggMTA5LjQ5LTYzLjI4OS0xNzQuMTQtOTcuNTcyLTEwMi41NCA1Mi44NSAxNjcuMTggMTA4LjAxeiIgZmlsbD0idXJsKCNmKSIgZmlsbC1ydWxlPSJub256ZXJvIi8+CiAgPC9nPgogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEuMTI5MiAuMDQwOTI1IC4xNjA3MiAxLjU0MTcgLTUyMy45NCAtMTc0NC40KSI+CiAgIDxwYXRoIGQ9Im01MDIyLjIgMjYxMC45IDI2MS41LTE4NC40MWM0LjQxOTQtNi4xNTYzLTIuMjgzNS0xMC43MTgtOS4wNjYyLTE0LjEzOWwtMzc5LjU0LTYxLjkwOS0yNzYuMTUgMTY0LjM1IDM4MS4zOCA5OS40NzJjOC4wNzY1IDEuMzAyNSAxNS4zMSAwLjAwODUgMjEuODY5LTMuMzYyMnoiIGZpbGw9IiM2Zjk1YTkiLz4KICAgPHBhdGggZD0ibTUwNTMuMiAyMzkyLjQtMTU2Ljg2LTI3LjY5Ni05Ni4wMjcgNTguODQ4IDE1NC43MiAzNS4xMjggOTguMTYxLTY2LjI4MXptLTM4OS4yNCAxMTMuODkgMTU5LjYgNDIuNjc5IDExMi40My03Ny4xNzUtMTU2LjUtMzUuNjQzLTExNS41MiA3MC4xNHptMjg5LjEzLTMwLjY3OC0xMTEuMDggNzcuMjQxIDE2NS45NiA0My4zNzQgMTE3LjI0LTgxLjk1OC0xNzIuMTMtMzguNjU3em0xODkuODIgMjUuNDU4IDEwOC41OC03NS41OTUtMTc5LjU3LTI5LjY4MS05OS45MTQgNjYuMjEgMTcwLjkxIDM5LjA2NnoiIGZpbGw9InVybCgjZykiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogIDwvZz4KICA8cGF0aCBkPSJtNDgzNS4zIDE4NjcuOGMyMy40NzEgMjEuMjE3IDQxLjExIDAuNzAyNSAxOS4yNjctMTguMTkzbC0zMS44NjgtMzYuNTUxYy0xNi43OS0yMy41NTQtNDEuMjY0IDEwLjc2MS0zMi40MTEgMjYuNzc2bDM1LjM0MyAyNi4xOSAzLjgyODctMS44NTI0IDUuODQxMiAzLjYyOTN6IiBmaWxsPSJ1cmwoI3EpIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCguOTk2MzMgLS4wODU1NzIgLjA4NTU3MiAuOTk2MzMgMjYzLjYxIC0zMC40MDQpIj4KICAgPHBhdGggZD0ibTQxNTEuMyAyODAzLjNjOTQuODU3LTI3LjM0MyAyNi4wNTYtMjEzLjc2LTE0OC4yOC00MDMuNjQtMTc1LjE4LTE4OS41OS0zOTcuOTMtMzI4LjA2LTQ4NS41OC0yODUuODMtNzkuNTg0IDM4LjMzOS0yNS4zNzcgMjEyLjM3IDE0OC43MiA0MDIuNDYgMTI5Ljc4IDEzOS40MiAzNjAuMTggMzIzLjA0IDQ4NS4xNCAyODcuMDJ6IiBmaWxsPSJ1cmwoI2MpIi8+CiAgIDxwYXRoIGQ9Im00MTU0LjcgMjc5NmM5NC44NTctMjcuMzQzIDI2Ljg4Ny0xODIuMzItMTMwLjg3LTM4My44OC0xNzUuNDQtMjI0LjE1LTM5Mi42MiA5NC4wNDQtMjU2LjkzIDE5Ni45MSAxMTMuMzQgODUuOTI0IDI2Mi44NCAyMjIuOTkgMzg3LjggMTg2Ljk3eiIgZmlsbD0idXJsKCNrKSIgb3BhY2l0eT0iLjUiLz4KICAgPHBhdGggZD0ibTM5NTAuNiAyMzcxLjRjNC4zOTAxLTUuNDIxMy0yNi45MjEtMzcuNzY4LTM0LjIxNS0zMi40NDRsLTI5OS4xOCAzMjEuMjRjLTExLjY4OSAxMy4wODQgMC43MzA4IDI0LjAzMiAxMi40OTYgMTEuMjc5bDMyMC45LTMwMC4wOHoiIGZpbGw9InVybCgjbCkiLz4KICAgPHBhdGggZD0ibTM1MTcuMyAyMTE0YzEyNC45Ni02Ny4zMiAzMzQuMjcgNC4xNDEgNDY5LjQxIDEyMy4xNiAxNDAuMDUgMTIzLjM0IDI0OS4zNSAzNTMuMyAyMDIuNyA1MjkuNyAyMy4xMzgtNjkuNzExLTQ4LjAyNC0yMTYuNDYtMTg2LjM3LTM2Ny4xNC0xNzUuMTgtMTg5LjU5LTM5Ni4xNy0zMjQuNTEtNDg1LjczLTI4NS43MnoiIGZpbGw9InVybCgjZCkiLz4KICAgPHBhdGggZD0ibTM5NTAuNiAyMzcxLjRjNC4zOTAxLTUuNDIxMy0yNi45MjEtMzcuNzY4LTM0LjIxNS0zMi40NDRsLTI5OS4xOCAzMjEuMjRjLTExLjY4OSAxMy4wODQgMC43MzA4IDI0LjAzMiAxMi40OTYgMTEuMjc5bDMyMC45LTMwMC4wOHoiIGZpbGw9InVybCgjbSkiLz4KICA8L2c+CiA8L2c+Cjwvc3ZnPgo=",m=t.primitives.add(new Cesium.BillboardCollection);m.add({image:d,position:i,horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(-10,10),scale:.3});var f=new Cesium.CylinderGeometry({length:r,topRadius:r*.6,bottomRadius:0,vertexFormat:Cesium.MaterialAppearance.MaterialSupport.TEXTURED.vertexFormat}),u=new Cesium.GeometryInstance({geometry:f,modelMatrix:s}),g=t.primitives.add(new Cesium.Primitive({geometryInstances:[u],appearance:new Cesium.MaterialAppearance({material:new Cesium.Material({fabric:{type:"VtxfShader1",uniforms:{color:new Cesium.Color(238/255,63/255,77/255,1),repeat:26,offset:.2,thickness:.2},source:`
                            uniform vec4 color;
                            uniform float repeat;
                            uniform float offset;
                            uniform float thickness;
                            czm_material czm_getMaterial(czm_materialInput materialInput)
                            {
                                czm_material material = czm_getDefaultMaterial(materialInput);
                                float sp = 1.0/repeat;
                                vec2 st = materialInput.st;
                                float dis = distance(st, vec2(0.5));
                                float m = mod(dis + offset, sp);
                                float a = step(sp*(1.0-thickness), m);
                                material.diffuse = color.rgb;
                                material.alpha = a * color.a;
                                return material;
                            }
                        `},translucent:!1}),translucent:!1,faceForward:!1,closed:!1})}));e.scene.preUpdate.addEventListener(function(){var y=g.appearance.material.uniforms.offset;y-=.001,y>1&&(y=0),g.appearance.material.uniforms.offset=y})}function Mn(e,t){let r=50,o=e.Cartesian3.fromDegrees(106.029982,36.888942,.5*r),n=e.Transforms.eastNorthUpToFixedFrame(o),i=[.5,-.5,.5],s=[-.5,-.5,.5],d=[-.5,-.5,-.5],m=[.5,-.5,-.5],f=[.5,.5,-.5],u=[.5,.5,.5],g=[-.5,.5,.5],y=[-.5,.5,-.5],v=[...d,...m,...f,...y,...d,...m,...i,...s,...f,...y,...g,...u,...y,...d,...s,...g,...m,...f,...u,...i,...s,...i,...u,...g].map(function(G){return G*r}),M=new Float64Array(v),h=[1,0,0],D=[-1,0,0],T=[0,1,0],N=[0,-1,0],E=[0,0,1],L=[0,0,-1],Z=new Float32Array([...L,...L,...L,...L,...N,...N,...N,...N,...T,...T,...T,...T,...D,...D,...D,...D,...h,...h,...h,...h,...E,...E,...E,...E]),B=new Float32Array([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1]),F=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]);t.scene.primitives.add(new e.Primitive({geometryInstances:new e.GeometryInstance({geometry:new e.Geometry({attributes:{position:new e.GeometryAttribute({componentDatatype:e.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:M}),normal:new e.GeometryAttribute({componentDatatype:e.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:Z}),st:new e.GeometryAttribute({componentDatatype:e.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:B})},indices:F,primitiveType:e.PrimitiveType.TRIANGLES,boundingSphere:e.BoundingSphere.fromVertices(M)})}),appearance:new e.MaterialAppearance({material:e.Material.fromType("Image",{image:"http://oss.datalent.top/test/168766.png"}),closed:!0}),modelMatrix:n,asynchronous:!1})),t.camera.flyToBoundingSphere(new e.BoundingSphere(o,100)),new e.Material({fabric:{type:"Color",uniforms:{color:new e.Color(1,1,0,1)},components:{diffuse:"color.bgr",alpha:"color.a"}},translucent:!1}),new e.Material({fabric:{type:"Image",uniforms:{image:"http://oss.datalent.top/test/168766.png",repeat:new e.Cartesian2(1,1),color:new e.Color(1,1,1,1)},components:{diffuse:"texture2D(image, fract(repeat * materialInput.st)).rgb * color.rgb",alpha:"texture2D(image, fract(repeat * materialInput.st)).a * color.a"}},translucent:!1}),new e.Material({fabric:{type:"OurMappedPlastic",materials:{diffuseMaterial:{type:"DiffuseMap",uniforms:{image:"http://oss.datalent.top/test/168766.png"}},alphaMap:{type:"AlphaMap",uniforms:{image:"http://oss.datalent.top/test/166670.png",channel:"r"}}},components:{diffuse:"diffuseMaterial.diffuse",alpha:"alphaMap.alpha * 3.0"}},translucent:function(G){return!1}}),new e.Material({fabric:{type:"MyCustomShader1",uniforms:{image:"http://oss.datalent.top/test/168766.png",color:new e.Color(1,1,0,1),cellAlpha:.3},source:`
                            uniform vec4 color;
                            uniform float cellAlpha;
                            czm_material czm_getMaterial(czm_materialInput materialInput)
                            {
                                czm_material material = czm_getDefaultMaterial(materialInput);
                                vec2 st = materialInput.st;
                                float aa = st.s * st.t;
                                vec3 halfColor = color.rgb * aa + texture2D(image, materialInput.st).rgb * (1.0 - aa);
                                halfColor *= 0.5;
                                material.diffuse = halfColor;
                                material.emission = halfColor;
                                // material.alpha = color.a * aa;
                                material.alpha = 1.0;
                                return material;
                            }
                        `},translucent:!1})}function bn(e,t){t.entities.add({name:"Red box with black outline",position:e.Cartesian3.fromDegrees(116.391378,39.904638,0),box:{dimensions:new e.Cartesian3(100,100,100),material:"http://oss.datalent.top/test/168766.png",outline:!1,outlineColor:e.Color(0,0,0,.4)}}),In(e,t)}function In(e,t){var r={y:39.901107,x:116.397623,z:580,heading:312,pitch:-40.5,roll:360};t.camera.flyTo({destination:e.Cartesian3.fromDegrees(r.x,r.y,r.z),orientation:{heading:e.Math.toRadians(r.heading),pitch:e.Math.toRadians(r.pitch),roll:e.Math.toRadians(r.roll)},duration:3})}function wn(e,t){let r=t.scene,o=new e.Cartesian3(4e5,3e5,1),n=e.Cartesian3.fromDegrees(116.3912,39.92),i=e.Transforms.eastNorthUpToFixedFrame(n),s=e.Matrix4.fromScale(o),d=new e.Matrix4;e.Matrix4.multiply(i,s,d);let m=new e.PlaneGeometry({vertexFormat:e.VertexFormat.POSITION_AND_NORMAL});new e.PlaneOutlineGeometry({});let f=new e.GeometryInstance({geometry:m,modelMatrix:d,attributes:{color:e.ColorGeometryInstanceAttribute.fromColor(new e.Color(1,0,0,.5))}});r.primitives.add(new e.Primitive({geometryInstances:f,appearance:new e.PerInstanceColorAppearance({closed:!0})})),t.camera.flyToBoundingSphere(new e.BoundingSphere(n,3e5))}function Cn(e,t){Tn(e,t)}function Tn(e,t){const r=t.entities,o=new e.Cartesian3.fromDegrees(112.200384,26.541969,100);let n=e.Cartesian3.fromDegrees(112.200384,26.541969),i=e.Cartesian3.fromDegrees(112.200384,26.551969);r.add({polyline:{positions:[n,i],width:5,material:e.Color.RED}});let s=e.Cartesian3.fromDegrees(112.210989,26.552195);r.add({polyline:{positions:[n,s],width:5,material:e.Color.RED}}),r.add({polyline:{positions:[i,s],width:5,material:e.Color.RED}}),t.camera.flyToBoundingSphere(new e.BoundingSphere(o,100))}function Dn(e,t){const r=[114.3698,22.6139,114.2135,22.6127],o=[114.3698,22.6139,114.33321,22.508452],n=[114.3698,22.6139,114.521609,22.669505],i=new e.Cartesian3.fromDegrees(114.3698,22.6139,100);K(e,t,r),K(e,t,o),K(e,t,n),t.camera.flyToBoundingSphere(new e.BoundingSphere(i,100))}function K(e,t,r){const o=[r[0],r[1],0],n=80,i=.325,s=(r[2]-o[0])/n,d=(r[3]-o[1])/n,m=s*Math.abs(111e3*Math.cos(r[1])),f=d*111e3,u=[0,0,0],g=Math.floor(n*Math.sqrt(m*m+f*f)*i),y=1e6*Math.sqrt(s*s+d*d),p=g/(y*y);function v(M,h){return Math.floor(h-p*M*M)}for(let M=1;M<=n;M++){u[0]=o[0]+s,u[1]=o[1]+d;const h=y*(2*M/n-1);u[2]=v(h,g),t.entities.add({polyline:{positions:e.Cartesian3.fromDegreesArrayHeights(o.concat(u)),width:4,arcType:e.ArcType.NONE,material:new e.PolylineArrowMaterialProperty(e.Color.AQUA)}}),o[0]=u[0],o[1]=u[1],o[2]=u[2]}}function xn(e,t){jn(e,t)}function jn(e,t){const r=new e.Cartesian3.fromDegrees(114,40,1);let o=114,n=40,i=0,s="https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/model/2099city/scene.gltf";t.entities.add({orientation:e.Transforms.headingPitchRollQuaternion(new e.Cartesian3.fromDegrees(o,n),new e.HeadingPitchRoll(e.Math.toRadians(i),e.Math.toRadians(0),e.Math.toRadians(0))),position:e.Cartesian3.fromDegrees(o,n),model:{uri:s,scale:1,maximumScale:2e4,incrementallyLoadTextures:!0,runAnimations:!0,clampAnimations:!0,eyeOffset:new e.Cartesian3(0,0,-1e4),disableDepthTestDistance:Number.POSITIVE_INFINITY,shadows:e.ShadowMode.ENABLED,heightReference:e.HeightReference.CLAMP_TO_GROUND}}),t.camera.flyToBoundingSphere(new e.BoundingSphere(r,1e5))}function Nn(e,t){kn(e,t)}function kn(e,t){new e.Cartesian3.fromDegrees(105.694214,32.389207);const r=new e.Cartesian3.fromDegrees(105.680324,32.388253),o=new e.Cartesian3.fromDegrees(105.707821,32.392738);let n=0;const i=t.entities.add({orientation:e.Transforms.headingPitchRollQuaternion(new e.Cartesian3.fromDegrees(105.680324,32.388253),new e.HeadingPitchRoll(e.Math.toRadians(-10),e.Math.toRadians(0),e.Math.toRadians(0))),position:new e.CallbackProperty(function(){return n>3e3&&(n=0),n++,e.Cartesian3.lerp(r,o,n/3e3,new e.Cartesian3)},!1),model:{uri:"https://zouyaoji.top/vue-cesium/SampleData/models/GroundVehicle/GroundVehicle.glb",scale:10}});t.trackedEntity=i}function An(e,t){const r=new e.Cartesian3.fromDegrees(104,30,100);t.cesiumWidget.screenSpaceEventHandler.removeInputAction(e.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);function o(n,i){this._definitionChanged=new e.Event,this._color=void 0,this._colorSubscription=void 0,this.color=n,this.duration=i,this._time=new Date().getTime()}e.defineProperties(o.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:e.createPropertyDescriptor("color")}),o.prototype.getType=function(n){return"EllipsoidFade"},o.prototype.getValue=function(n,i){return e.defined(i)||(i={}),i.color=e.Property.getValueOrClonedDefault(this._color,n,e.Color.WHITE,i.color),i.time=(new Date().getTime()-this._time)%this.duration/this.duration,i},o.prototype.equals=function(n){return this===n||n instanceof o&&Property.equals(this._color,n._color)},e.EllipsoidFadeMaterialProperty=o,e.Material.EllipsoidFadeType="EllipsoidFade",e.Material.EllipsoidFadeSource=`czm_material czm_getMaterial(czm_materialInput materialInput)
{
czm_material material = czm_getDefaultMaterial(materialInput);
material.diffuse = 1.5 * color.rgb;
vec2 st = materialInput.st;
float dis = distance(st, vec2(0.5, 0.5));
float per = fract(time);
if(dis > per * 0.5){
material.alpha = 0.0;
discard;
}else {
material.alpha = color.a  * dis / per / 1.0;
}
return material;
}`,e.Material._materialCache.addMaterial(e.Material.EllipsoidFadeType,{fabric:{type:e.Material.EllipsoidFadeType,uniforms:{color:new e.Color(1,0,0,1),time:0},source:e.Material.EllipsoidFadeSource},translucent:function(n){return!0}}),t.entities.add({name:"EllipsoidFade",position:e.Cartesian3.fromDegrees(104,30,100),ellipse:{height:0,semiMinorAxis:300,semiMajorAxis:300,material:new e.EllipsoidFadeMaterialProperty(e.Color.ORANGE,2e3)}}),t.camera.flyToBoundingSphere(new e.BoundingSphere(r,1e3))}function Sn(e,t,r){const o=new e.Cartesian3.fromDegrees(-75,30);t.scene.globe.depthTestAgainstTerrain=!0;let n=e.Math.toRadians(30);function i(){return n-=.02,n}function s(){let d=r.getContext("2d"),m=d.createLinearGradient(175,100,r.width,150);return m.addColorStop(0,"rgba(0,255,0,0)"),m.addColorStop(1,"rgba(0,255,0,1)"),d.fillStyle=m,d.beginPath(),d.moveTo(150,150),d.arc(150,150,140,-90/180*Math.PI,0/180*Math.PI),d.fill(),r}t.entities.add({name:"Rotating rectangle with rotating texture coordinate",rectangle:{coordinates:new e.CallbackProperty(function(){return e.Rectangle.fromDegrees(-75,30,-70,35)},!1),material:new e.ImageMaterialProperty({image:new e.CallbackProperty(s,!1),transparent:!0}),rotation:new e.CallbackProperty(i,!1),stRotation:new e.CallbackProperty(i,!1)}}),t.camera.flyToBoundingSphere(new e.BoundingSphere(o,1e6))}function En(e,t){const r=new e.Cartesian3.fromDegrees(117.154815,31.853495,100);function o(n,i){this._definitionChanged=new e.Event,this._color=void 0,this._colorSubscription=void 0,this.color=n,this.duration=i,this._time=new Date().getTime()}e.defineProperties(o.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:e.createPropertyDescriptor("color")}),o.prototype.getType=function(n){return"PolylineTrailLink"},o.prototype.getValue=function(n,i){return e.defined(i)||(i={}),i.color=e.Property.getValueOrClonedDefault(this._color,n,e.Color.WHITE,i.color),i.image=e.Material.PolylineTrailLinkImage,i.time=(new Date().getTime()-this._time)%this.duration/this.duration,i},o.prototype.equals=function(n){return this===n||n instanceof o&&Property.equals(this._color,n._color)},e.PolylineTrailLinkMaterialProperty=o,e.Material.PolylineTrailLinkType="PolylineTrailLink",e.Material.PolylineTrailLinkImage="http://oss.datalent.top/test/cesium/colors.png",e.Material.PolylineTrailLinkSource=`czm_material czm_getMaterial(czm_materialInput materialInput)
                                                      {
                                                           czm_material material = czm_getDefaultMaterial(materialInput);
                                                           vec2 st = materialInput.st;
                                                           vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));
                                                           material.alpha = colorImage.a * color.a;
                                                           material.diffuse = (colorImage.rgb+color.rgb)/2.0;
                                                           return material;
                                                       }`,e.Material._materialCache.addMaterial(e.Material.PolylineTrailLinkType,{fabric:{type:e.Material.PolylineTrailLinkType,uniforms:{color:new e.Color(1,0,0,.5),image:e.Material.PolylineTrailLinkImage,time:0},source:e.Material.PolylineTrailLinkSource},translucent:function(n){return!0}}),t.entities.add({name:"\u52A8\u6001\u7ACB\u4F53\u5899",wall:{positions:e.Cartesian3.fromDegreesArray([117.154815,31.853495,117.181255,31.854257,117.182284,31.848255,117.184748,31.840141,117.180557,31.835556,117.180023,31.833741,117.166846,31.833737,117.155531,31.833151,117.154787,31.835978,117.151994,31.839036,117.150691,31.8416,117.151215,31.844734,117.154457,31.848152,117.154815,31.853495]),maximumHeights:[600,600,600,600,600,600,600,600,600,600,600,600,600,600],minimumHeights:[43.9,49.4,38.7,40,54,51,66.7,44.6,41.2,31.2,50.1,53.8,46.9,43.9],material:new e.PolylineTrailLinkMaterialProperty(e.Color.ORANGE,3e3)}}),t.camera.flyToBoundingSphere(new e.BoundingSphere(r,1e4))}function Ln(e,t){t.entities.add({name:"PolylineTrail",polyline:{positions:e.Cartesian3.fromDegreesArrayHeights([104,30,1e3,114,30,1e3,114,50,1e3,115,20,1e3,118,30,1e3,123,10,1e3,125,40,1e3,126,30,1e3,128,50,1e3]),width:5,material:e.Color.RED}}),t.zoomTo(t.entities)}function On(e,t){t.camera.setView({destination:{x:-2769293799109788e-9,y:4796599883886506e-9,z:3171113878101777e-9},orientation:{heading:6.283185307179586,pitch:-.7854060155492881,roll:6.283185307179586}});let r=new e.HeadingPitchRoll,o=new e.Cartesian3.fromDegrees(120,30,5e3),n=e.Transforms.localFrameToFixedFrameGenerator("north","west"),i=e.Math.toRadians(5),s=t.scene.primitives.add(e.Model.fromGltf({url:"http://oss.datalent.top/test/cesium/Cesium_Air.glb",scale:100,modelMatrix:e.Transforms.headingPitchRollToFixedFrame(o,r,e.Ellipsoid.WGS84,n),minimumPixelSize:256}));document.addEventListener("keydown",function(u){switch(u.keyCode){case 38:r.pitch+=i,r.pitch>e.Math.TWO_PI&&(r.pitch-=e.Math.TWO_PI),console.log("\u62AC\u5934\uFF1Apitch+");break;case 40:r.pitch-=i,r.pitch<-e.Math.TWO_PI&&(r.pitch+=e.Math.TWO_PI),console.log("\u4F4E\u5934\uFF1Apitch-");break;case 37:r.heading-=i,r.heading<-e.Math.TWO_PI&&(r.heading+=e.Math.TWO_PI),console.log("\u5DE6\u8F6C\uFF1Aheading+");break;case 39:r.heading+=i,r.heading>e.Math.TWO_PI&&(r.heading-=e.Math.TWO_PI),console.log("\u53F3\u8F6C\uFF1Aheading-");break;case 96:r.roll+=i,r.roll>e.Math.TWO_PI&&(r.roll-=e.Math.TWO_PI),console.log("\u987A\u65F6\u9488\u7FFB\u6EDA\uFF1Aroll+");break;case 110:r.roll-=i,r.roll<-e.Math.TWO_PI&&(r.roll+=e.Math.TWO_PI),console.log("\u9006\u65F6\u9488\u7FFB\u6EDA\uFF1Aroll-");break;case 107:d+=1e3,d=Math.min(d,1e4),console.log("\u52A0\u901F:"+d);break;case 109:d-=1e3,d=Math.max(d,1e3),console.log("\u51CF\u901F:"+d);break}});let d=100,m=new e.Cartesian3;const f=new e.SampledPositionProperty;t.entities.add({position:f,name:"\u98DE\u884C\u8DEF\u5F84",path:{show:!0,leadTime:0,trailTime:60,width:20,resolution:1,material:new e.PolylineGlowMaterialProperty({glowPower:.3,taperPower:.3,color:e.Color.PALEGOLDENROD})}}),t.scene.preUpdate.addEventListener(()=>{m=e.Cartesian3.multiplyByScalar(e.Cartesian3.UNIT_X,d/10,m),o=e.Matrix4.multiplyByPoint(s.modelMatrix,m,o),f.addSample(e.JulianDate.now(),o),e.Transforms.headingPitchRollToFixedFrame(o,r,e.Ellipsoid.WGS84,n,s.modelMatrix),t.camera.lookAt(o,new e.Cartesian3(0,0,1e4))})}const zn={data(){return{loading:!0,canvas:null,canvasLIst:[],_Cesium:null,_viewer:null,animation:!0,timeline:!0,baseLayerPicker:!1,fullscreenButton:!0,infoBox:!0,showCredit:!0,fullscreenElement:document.body,point:{pixelSize:28,color:"red"},label:{text:"Hello World",pixelOffset:[0,150]},billboard:{},offset:[50,25],otherOpts:{offset:[0,32],position:"bottom-right"},selectValue:"",selectOption:[{value:"\u6B63\u65B9\u5F62",label:"\u6B63\u65B9\u5F62"},{value:"\u81EA\u5B9A\u4E49\u6750\u8D28\u6B63\u65B9\u5F62",label:"\u81EA\u5B9A\u4E49\u6750\u8D28\u6B63\u65B9\u5F62"},{value:"\u96F7\u8FBE",label:"\u96F7\u8FBE"},{value:"\u5E73\u9762",label:"\u5E73\u9762"},{value:"\u7EBF",label:"\u7EBF"},{value:"\u629B\u7269\u7EBF",label:"\u629B\u7269\u7EBF"},{value:"\u6A21\u578B",label:"\u6A21\u578B"},{value:"control\u6A21\u578B",label:"control\u6A21\u578B"},{value:"\u8FD0\u52A8\u7684\u6A21\u578B",label:"\u8FD0\u52A8\u7684\u6A21\u578B"},{value:"\u52A8\u6001\u6269\u6563\u70B9",label:"\u52A8\u6001\u6269\u6563\u70B9"},{value:"\u96F7\u8FBE\u626B\u63CF",label:"\u96F7\u8FBE\u626B\u63CF"},{value:"\u5899\u4F53",label:"\u5899\u4F53"},{value:"flowLine",label:"flowLine"}]}},watch:{timeline(e){this.otherOpts.offset=e?[0,30]:this.fullscreenButton?[30,5]:[0,5]},fullscreenButton(e){!this.timeline&&!e?this.otherOpts.offset=[0,5]:!this.timeline&&e&&(this.otherOpts.offset=[30,5])}},mounted(){this.canvas=document.getElementById("canvas-a");let e=document.getElementById("canvas-b");this.canvasLIst=[this.canvas,e],this.$refs.vcViewer.creatingPromise.then(({Cesium:t,viewer:r})=>{console.log("viewer is loaded.")})},methods:{onViewerReady({Cesium:e,viewer:t}){this.loading=!1,this._Cesium=e,this._viewer=t},clear(){this._viewer.scene.primitives.removeAll()},selectChange(e){this.seletFunction(e),console.log(e,"e")},seletFunction(e){switch(e){case"\u6B63\u65B9\u5F62":bn(this._Cesium,this._viewer);break;case"\u81EA\u5B9A\u4E49\u6750\u8D28\u6B63\u65B9\u5F62":Mn(this._Cesium,this._viewer);break;case"\u5E73\u9762":wn(this._Cesium,this._viewer);break;case"\u7EBF":Cn(this._Cesium,this._viewer);break;case"\u629B\u7269\u7EBF":Dn(this._Cesium,this._viewer);break;case"\u6A21\u578B":xn(this._Cesium,this._viewer);break;case"control\u6A21\u578B":On(this._Cesium,this._viewer);break;case"\u8FD0\u52A8\u7684\u6A21\u578B":Nn(this._Cesium,this._viewer);break;case"\u52A8\u6001\u6269\u6563\u70B9":An(this._Cesium,this._viewer);break;case"\u96F7\u8FBE\u626B\u63CF":Sn(this._Cesium,this._viewer,this.canvas);break;case"\u5899\u4F53":En(this._Cesium,this._viewer);break;case"flowLine":Ln(this._Cesium,this._viewer);break;default:hn(this._viewer);break}},onCesiumReady(e){console.log(e)},onNavigationEvt(e){console.log(e)},onEntityClick(e){console.log(e)},onLeftClick(e){console.log(e)},onTouchEnd(e){console.log(e)},load(){this.$refs.vcViewer.load().then(e=>{console.log(e),this.loading=!1})},unload(){this.$refs.vcViewer.unload().then(e=>{console.log(e),this.loading=!0})},reload(){this.loading=!0,this.$refs.vcViewer.reload().then(e=>{console.log(e),this.loading=!1})}}},se=e=>(ae("data-v-0d42e209"),e=e(),ie(),e),Rn=se(()=>A("canvas",{id:"canvas-a",class:"canvas",width:"300",height:"300"},null,-1)),Pn=se(()=>A("canvas",{id:"canvas-b",class:"canvas",width:"300",height:"300"},null,-1)),Vn=_("\u9500\u6BC1"),Zn=_("\u52A0\u8F7D"),Gn=_("\u91CD\u8F7D");function Yn(e,t,r,o,n,i){const s=c("vc-navigation"),d=c("vc-imagery-provider-tianditu"),m=c("vc-layer-imagery"),f=c("vc-viewer"),u=c("el-button"),g=c("el-option"),y=c("el-select"),p=c("el-row");return I(),w(p,{ref:"viewerContainer",class:"demo-viewer"},{default:l(()=>[a(f,{ref:"vcViewer",animation:n.animation,"base-layer-picker":n.baseLayerPicker,timeline:n.timeline,"fullscreen-button":n.fullscreenButton,"fullscreen-element":n.fullscreenElement,"info-box":n.infoBox,skyAtmosphere:!1,skyBox:!1,"scene-mode-picker":!0,"show-credit":n.showCredit,onCesiumReady:i.onCesiumReady,onReady:i.onViewerReady,onLeftClick:i.onLeftClick,onTouchEnd:i.onTouchEnd},{default:l(()=>[a(s,{offset:n.offset,onCompassEvt:i.onNavigationEvt,"other-opts":n.otherOpts,onZoomEvt:i.onNavigationEvt},null,8,["offset","onCompassEvt","other-opts","onZoomEvt"]),a(m,{"sort-order":20,alpha:1,brightness:1,contrast:1,sortOrder:20},{default:l(()=>[a(d,{"map-style":"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17})]),_:1}),a(m,{"sort-order":20},{default:l(()=>[a(d,{"map-style":"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0"})]),_:1})]),_:1},8,["animation","base-layer-picker","timeline","fullscreen-button","fullscreen-element","info-box","show-credit","onCesiumReady","onReady","onLeftClick","onTouchEnd"]),Rn,Pn,a(p,{class:"demo-toolbar"},{default:l(()=>[a(p,null,{default:l(()=>[a(u,{type:"danger",round:"",onClick:i.unload},{default:l(()=>[Vn]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.load},{default:l(()=>[Zn]),_:1},8,["onClick"]),a(u,{type:"danger",round:"",onClick:i.reload},{default:l(()=>[Gn]),_:1},8,["onClick"]),a(y,{modelValue:n.selectValue,"onUpdate:modelValue":t[0]||(t[0]=v=>n.selectValue=v),placeholder:"\u8BF7\u9009\u62E9",clearable:"",onChange:i.selectChange},{default:l(()=>[(I(!0),U(H,null,q(n.selectOption,v=>(I(),w(g,{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1},512)}var Wn=x(zn,[["render",Yn],["__scopeId","data-v-0d42e209"]]);const Un=_e({name:"App",components:{Index:Ue,GraphicsPath:Xe,VcDrawings:lt,VcMeasurements:yt,VcOverlayHtml:xt,VcOverlayDynamic:Yt,VcOverlayEcharts:Qt,VcOverlayTyphoon:eo,VcImageryProviderSupermap:mo,VcTerrainProviderCesium:ho,VcDatasourceCzml:To,VcGraphicsModel:jo,EchartSdk:Lo,SuperMap:Zo,radar:Bo,centrumOpticus:qo,test:rn,primitive:mn,superMapModel:yn,talent:Wn}});function Hn(e,t,r,o,n,i){const s=c("talent");return I(),w(s)}var Bn=x(Un,[["render",Hn]]);typeof window.global=="undefined"&&(window.global=window);const $=ve(Bn);$.use(ye);$.use(he,{cesiumPath:"https://earthsdk.com/v/last/XbsjEarth/XbsjEarth.js"});$.mount("#app");
